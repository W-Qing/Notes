(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{212:function(t,s,a){t.exports=a.p+"assets/img/partOfBrowser.7ba7cd1c.png"},213:function(t,s,a){t.exports=a.p+"assets/img/eventloop.796a8f79.jpg"},214:function(t,s,a){t.exports=a.p+"assets/img/scavenge.b8835718.png"},215:function(t,s,a){t.exports=a.p+"assets/img/duixiangjinsheng.7d503b3c.png"},243:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"æµè§ˆå™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨"}},[t._v("#")]),t._v(" æµè§ˆå™¨")]),t._v(" "),n("h2",{attrs:{id:"ç»„æˆéƒ¨åˆ†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»„æˆéƒ¨åˆ†"}},[t._v("#")]),t._v(" ç»„æˆéƒ¨åˆ†")]),t._v(" "),n("ol",[n("li",[n("strong",[t._v("ç”¨æˆ·ç•Œé¢")]),t._v(" - åŒ…æ‹¬åœ°å€æ ã€å‰è¿›/åé€€æŒ‰é’®ã€ä¹¦ç­¾èœå•ç­‰ã€‚é™¤äº†æµè§ˆå™¨ä¸»çª—å£æ˜¾ç¤ºçš„ä½ è¯·æ±‚çš„é¡µé¢å¤–ï¼Œå…¶ä»–æ˜¾ç¤ºçš„å„ä¸ªéƒ¨åˆ†éƒ½å±äºç”¨æˆ·ç•Œé¢ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("æµè§ˆå™¨å¼•æ“")]),t._v(" - åœ¨ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ é€æŒ‡ä»¤ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("æ¸²æŸ“å¼•æ“")]),t._v(" - è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ã€‚å¦‚æœè¯·æ±‚çš„å†…å®¹æ˜¯ HTMLï¼Œå®ƒå°±è´Ÿè´£è§£æ HTML å’Œ CSS å†…å®¹ï¼Œå¹¶å°†è§£æåçš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚")]),t._v(" "),n("li",[n("strong",[t._v("ç½‘ç»œ")]),t._v(" - ç”¨äºç½‘ç»œè°ƒç”¨ï¼Œæ¯”å¦‚ HTTP è¯·æ±‚ã€‚å…¶æ¥å£ä¸å¹³å°æ— å…³ï¼Œå¹¶ä¸ºæ‰€æœ‰å¹³å°æä¾›åº•å±‚å®ç°ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("ç”¨æˆ·ç•Œé¢åç«¯")]),t._v(" - ç”¨äºç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ï¼Œæ¯”å¦‚ç»„åˆæ¡†å’Œçª—å£ã€‚å…¶å…¬å¼€äº†ä¸å¹³å°æ— å…³çš„é€šç”¨æ¥å£ï¼Œè€Œåœ¨åº•å±‚ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢æ–¹æ³•ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("JavaScript è§£é‡Šå™¨")]),t._v("ã€‚ç”¨äºè§£æå’Œæ‰§è¡Œ JavaScript ä»£ç ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("æ•°æ®å­˜å‚¨")]),t._v("ã€‚è¿™æ˜¯æŒä¹…å±‚ã€‚æµè§ˆå™¨éœ€è¦åœ¨ç¡¬ç›˜ä¸Šä¿å­˜å„ç§æ•°æ®ï¼Œä¾‹å¦‚ Cookieã€‚æ–°çš„ HTML è§„èŒƒ (HTML5) å®šä¹‰äº†â€œç½‘ç»œæ•°æ®åº“â€ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ï¼ˆä½†æ˜¯è½»ä¾¿ï¼‰çš„æµè§ˆå™¨å†…æ•°æ®åº“ã€‚")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(212),alt:"img"}})]),t._v(" "),n("blockquote",[n("p",[t._v("å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå’Œå¤§å¤šæ•°æµè§ˆå™¨ä¸åŒï¼ŒChrome æµè§ˆå™¨çš„æ¯ä¸ªæ ‡ç­¾é¡µéƒ½åˆ†åˆ«å¯¹åº”ä¸€ä¸ªæ¸²æŸ“å¼•æ“å®ä¾‹ã€‚æ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"å¸¸è§å†…æ ¸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§å†…æ ¸"}},[t._v("#")]),t._v(" å¸¸è§å†…æ ¸")]),t._v(" "),n("p",[t._v("æµè§ˆå™¨çš„å†…æ ¸æ˜¯æŒ‡æ”¯æŒæµè§ˆå™¨è¿è¡Œçš„æœ€æ ¸å¿ƒçš„ç¨‹åºï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€æ˜¯æ¸²æŸ“å¼•æ“ï¼Œå¦ä¸€ä¸ªæ˜¯ JS å¼•æ“ã€‚")]),t._v(" "),n("p",[t._v("æ¸²æŸ“å¼•æ“åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ä¹Ÿä¸æ˜¯éƒ½ç›¸åŒçš„ï¼Œç›®å‰å¸‚é¢ä¸Šå¸¸è§çš„æµè§ˆå™¨å†…æ ¸å¯ä»¥åˆ†ä¸ºè¿™å››ç§ï¼šTridentï¼ˆIEï¼‰ã€Geckoï¼ˆç«ç‹ï¼‰ã€Blinkï¼ˆChromeã€Operaï¼‰ã€Webkitï¼ˆSafariï¼‰ã€‚")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("æµè§ˆå™¨/RunTime")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("å†…æ ¸ï¼ˆæ¸²æŸ“å¼•æ“ï¼‰")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("JavaScript å¼•æ“")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Chrome")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Blinkï¼ˆ28~ï¼‰ Webkitï¼ˆChrome 27ï¼‰")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("V8")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("FireFox")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Gecko")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("SpiderMonkey")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Safari")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Webkit")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("JavaScriptCore")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Edge")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("EdgeHTML")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Chakra(for JavaScript)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("IE")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Trident")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Chakra(for JScript)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("PhantomJS")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("Webkit")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("JavaScriptCore")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("Node.js")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("V8")])])])]),t._v(" "),n("h2",{attrs:{id:"æ¸²æŸ“æœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“æœºåˆ¶"}},[t._v("#")]),t._v(" æ¸²æŸ“æœºåˆ¶")]),t._v(" "),n("p",[t._v("å…ˆäº†è§£ä¸‹æµè§ˆå™¨è¯·æ±‚åŠ è½½èµ„æºçš„è¿‡ç¨‹ï¼Œç„¶åæ‰èƒ½æ›´å¥½çš„ç†è§£æµè§ˆå™¨çš„æ¸²æŸ“æœºåˆ¶ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("æµè§ˆå™¨è¯·æ±‚åŠ è½½ä¸€ä¸ªèµ„æºçš„ä¸»è¦è¿‡ç¨‹ï¼š")])]),t._v(" "),n("ul",[n("li",[t._v("æµè§ˆå™¨æ ¹æ® DNS æœåŠ¡å™¨å¾—åˆ°åŸŸåçš„ IP åœ°å€")]),t._v(" "),n("li",[t._v("å‘è¿™ä¸ª IP çš„æœåŠ¡å™¨å‘é€ http è¯·æ±‚")]),t._v(" "),n("li",[t._v("æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œå¤„ç†å¹¶è¿”å› http è¯·æ±‚")]),t._v(" "),n("li",[t._v("æµè§ˆå™¨å¾—åˆ°è¿”å›å†…å®¹")])]),t._v(" "),n("p",[t._v("æµè§ˆå™¨å¾—åˆ°æœåŠ¡å™¨è¿”å›çš„å†…å®¹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ¸²æŸ“è¿‡ç¨‹ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹ï¼š")])]),t._v(" "),n("ol",[n("li",[t._v("è§£æ HTML ç»“æ„ç”Ÿæˆ DOM æ ‘å½¢ç»“æ„â€”"),n("strong",[t._v("DOM Tree")])]),t._v(" "),n("li",[t._v("è§£æ CSSï¼Œç”Ÿæˆ CSS è§„åˆ™æ ‘â€”"),n("strong",[t._v("CSSOM Tree")])]),t._v(" "),n("li",[t._v("è§£æå®Œæˆåï¼Œæµè§ˆå™¨å¼•æ“ä¼šé€šè¿‡ DOM API å’Œ CSSOM API æ¥æ“ä½œ DOM Tree å’Œ CSSOM Treeï¼Œç»„åˆå½¢æˆæ¸²æŸ“æ ‘â€”"),n("strong",[t._v("Render Tree")])]),t._v(" "),n("li",[t._v("æ ¹æ®æ¸²æŸ“æ ‘æ¥è¿›è¡Œå¸ƒå±€â€”"),n("strong",[t._v("Layout")]),t._v(" ï¼ˆè®¡ç®—å‡ºå„ä¸ªèŠ‚ç‚¹åœ¨é¡µé¢ä¸­çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ï¼Œæ‰€æœ‰ç›¸å¯¹æµ‹é‡å€¼éƒ½å°†è½¬æ¢ä¸ºå±å¹•ä¸Šçš„ç»å¯¹åƒç´ ï¼‰")]),t._v(" "),n("li",[t._v("å¸ƒå±€å®Œæˆåï¼Œæµè§ˆå™¨ä¼šç«‹å³å‘å‡ºâ€œPaint Setupâ€å’Œâ€œPaintâ€äº‹ä»¶ï¼Œå°†æ¸²æŸ“æ ‘è½¬æ¢æˆå±å¹•ä¸Šçš„åƒç´ ï¼Œå³ç»˜åˆ¶é¡µé¢â€”"),n("strong",[t._v("reflow/repaint")])])]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("é‡åˆ°"),n("code",[t._v("<script>")]),t._v(" æ—¶ï¼Œä¼šæ‰§è¡Œå¹¶é˜»å¡æ¸²æŸ“ï¼Œå› ä¸º JS æœ‰å¯èƒ½æ”¹å˜ DOM æ ‘ç»“æ„ ( GUI æ¸²æŸ“çº¿ç¨‹ä¸ JS å¼•æ“çº¿ç¨‹äº’æ–¥ )")]),t._v(" "),n("li",[t._v("è€Œ imgã€ video åˆ™æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šé˜»å¡æ¸²æŸ“")]),t._v(" "),n("li",[t._v("é€šå¸¸æƒ…å†µä¸‹ DOM å’Œ CSSOM æ˜¯å¹¶è¡Œæ„å»ºçš„ï¼Œä½†æ˜¯å½“æµè§ˆå™¨é‡åˆ°ä¸€ä¸ªä¸å¸¦ defer æˆ– async å±æ€§çš„ script æ ‡ç­¾æ—¶ï¼ŒDOM æ„å»ºå°†æš‚åœï¼Œå¦‚æœæ­¤æ—¶åˆæ°å·§æµè§ˆå™¨å°šæœªå®Œæˆ CSSOM çš„ä¸‹è½½å’Œæ„å»ºï¼Œç”±äº JavaScript å¯ä»¥ä¿®æ”¹ CSSOMï¼Œæ‰€ä»¥éœ€è¦ç­‰ CSSOM æ„å»ºå®Œæ¯•åå†æ‰§è¡Œ JSï¼Œæœ€åæ‰é‡æ–°è¿›è¡Œ DOM æ„å»º")])])]),t._v(" "),n("p",[n("strong",[t._v("æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜")])]),t._v(" "),n("p",[t._v("åŒºåˆ«ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("é‡æ’ï¼šéƒ¨åˆ†æ¸²æŸ“æ ‘ï¼ˆæˆ–è€…æ•´ä¸ªæ¸²æŸ“æ ‘ï¼‰éœ€è¦é‡æ–°åˆ†æï¼Œå¹¶ä¸”èŠ‚ç‚¹å°ºå¯¸éœ€è¦é‡æ–°è®¡ç®—ï¼Œè¡¨ç°ä¸ºé‡æ–°ç”Ÿæˆå¸ƒå±€ï¼Œé‡æ–°æ’åˆ—å…ƒç´ ")]),t._v(" "),n("li",[t._v("é‡ç»˜ï¼šèŠ‚ç‚¹çš„å‡ ä½•å±æ€§å‘ç”Ÿæ”¹å˜æˆ–è€…æ ·å¼å‘ç”Ÿæ”¹å˜ï¼Œä¾‹å¦‚æ”¹å˜å…ƒç´ èƒŒæ™¯è‰²æ—¶ï¼Œå±å¹•ä¸Šçš„éƒ¨åˆ†å†…å®¹éœ€è¦æ›´æ–°ï¼Œè¡¨ç°ä¸ºæŸäº›å…ƒç´ çš„å¤–è§‚è¢«æ”¹å˜")])]),t._v(" "),n("p",[t._v("å•å•æ”¹å˜å…ƒç´ çš„å¤–è§‚ï¼Œè‚¯å®šä¸ä¼šå¼•èµ·ç½‘é¡µé‡æ–°ç”Ÿæˆå¸ƒå±€ï¼Œä½†å½“æµè§ˆå™¨å®Œæˆé‡æ’ä¹‹åï¼Œå°†ä¼šé‡æ–°ç»˜åˆ¶å—åˆ°æ­¤æ¬¡é‡æ’å½±å“çš„éƒ¨åˆ†ã€‚å³ï¼šã€é‡ç»˜ã€ä¸ä¸€å®šä¼šå‡ºç°ã€é‡æ’ã€ï¼Œã€é‡æ’ã€å¿…ç„¶ä¼šå‡ºç°ã€é‡ç»˜ã€ã€‚")]),t._v(" "),n("p",[t._v("é‡æ’å’Œé‡ç»˜ä»£ä»·æ˜¯é«˜æ˜‚çš„ï¼Œå¦‚æœå¤„ç†ä¸å¥½ï¼Œå®ƒä»¬ä¼šä½¿ UI å±•ç¤ºå˜å¾—è¿Ÿç¼“ï¼Œç ´åç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),n("p",[t._v("è™½ç„¶ä»»ä½•æ”¹å˜ç”¨æ¥æ„å»ºæ¸²æŸ“æ ‘çš„ä¿¡æ¯éƒ½ä¼šå¯¼è‡´ä¸€æ¬¡é‡æ’æˆ–é‡ç»˜ï¼Œä½†å¯ä»¥é€šè¿‡å‡ ç§æ–¹æ³•å°½é‡å‡å°‘é‡æ’æˆ–é‡ç»˜ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("é€šè¿‡æ”¹å˜ class çš„æ–¹å¼æ¥é›†ä¸­æ”¹å˜æ ·å¼")]),t._v(" "),n("li",[t._v("é€šè¿‡ createDocumentFragment åˆ›å»ºä¸€ä¸ªæ¸¸ç¦»äº DOM æ ‘ä¹‹å¤–çš„èŠ‚ç‚¹ï¼Œç„¶ååœ¨æ­¤èŠ‚ç‚¹ä¸Šæ‰¹é‡æ“ä½œï¼Œæœ€åæ’å…¥ DOM æ ‘ä¸­ï¼Œå› æ­¤åªè§¦å‘ä¸€æ¬¡é‡æ’")]),t._v(" "),n("li",[t._v("ä½¿ç”¨ CSS çš„ will-change å±æ€§å°†å…ƒç´ æå‡ä¸ºåˆæˆå±‚")])]),t._v(" "),n("blockquote",[n("p",[t._v("å…³äºåˆæˆå±‚çš„è¯¦è§£è¯·ç§»æ­¥ "),n("a",{attrs:{href:"https://fed.taobao.org/blog/2016/04/26/performance-composite/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ— çº¿æ€§èƒ½ä¼˜åŒ–ï¼šComposite"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("ä¸¤è€…ç›¸æ¯”ä¹‹ä¸‹æ˜¾ç„¶é‡æ’çš„æ€§èƒ½å½±å“æ›´å¤§ï¼Œåœ¨ä¸¤è€…æ— æ³•é¿å…çš„æƒ…å†µä¸‹åº”ä¼˜å…ˆé€‰æ‹©ä»£ä»·æ›´å°çš„é‡ç»˜ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("Load å’Œ DOMContentLoaded åŒºåˆ«ï¼š")])]),t._v(" "),n("p",[t._v("window.onload  äº‹ä»¶è§¦å‘ä»£è¡¨é¡µé¢ä¸­çš„ DOMï¼ŒCSSï¼ŒJSï¼Œå›¾ç‰‡å·²ç»å…¨éƒ¨åŠ è½½å®Œæ¯•ã€‚")]),t._v(" "),n("p",[t._v("DOMContentLoaded äº‹ä»¶è§¦å‘ä»£è¡¨åˆå§‹çš„ HTML è¢«å®Œå…¨åŠ è½½å’Œè§£æï¼Œä¸éœ€è¦ç­‰å¾… CSSï¼ŒJSï¼Œå›¾ç‰‡åŠ è½½ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢çš„å…¨éƒ¨èµ„æºåŠ è½½å®Œæ‰ä¼šæ‰§è¡Œï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ç­‰")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DOMContentLoaded'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM æ¸²æŸ“å®Œå³å¯æ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡ã€è§†é¢‘å¯èƒ½è¿˜æ²¡æœ‰åŠ è½½å®Œ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("æ¨èé˜…è¯»ï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/ljianshu/Blog/issues/51",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ·±å…¥æµ…å‡ºæµè§ˆå™¨æ¸²æŸ“åŸç†"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/berwin/Blog/issues/29",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…³é”®æ¸²æŸ“è·¯å¾„"),n("OutboundLink")],1),t._v(" ğŸ‘")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5e143104e51d45414a4715f7#heading-28",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä» 8 é“é¢è¯•é¢˜çœ‹æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ä¸æ€§èƒ½ä¼˜åŒ–"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://taligarsiel.com/Projects/howbrowserswork1.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("How Browsers work "),n("OutboundLink")],1)])])]),t._v(" "),n("h2",{attrs:{id:"event-loop-ğŸŒŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#event-loop-ğŸŒŸ"}},[t._v("#")]),t._v(" Event Loop ğŸŒŸ")]),t._v(" "),n("h3",{attrs:{id:"æ ˆã€é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ ˆã€é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µ"}},[t._v("#")]),t._v(" æ ˆã€é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µ")]),t._v(" "),n("p",[n("strong",[t._v("æ ˆï¼ˆStackï¼‰")])]),t._v(" "),n("ul",[n("li",[t._v("æ ˆåœ¨è®¡ç®—æœºç§‘å­¦ä¸­æ˜¯é™å®šä»…åœ¨"),n("strong",[t._v("è¡¨å°¾")]),t._v("è¿›è¡Œ"),n("strong",[t._v("æ’å…¥")]),t._v("æˆ–"),n("strong",[t._v("åˆ é™¤")]),t._v("æ“ä½œçš„çº¿æ€§è¡¨ã€‚")]),t._v(" "),n("li",[t._v("æ ˆæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæŒ‰ç…§"),n("strong",[t._v("åè¿›å…ˆå‡º")]),t._v("çš„åŸåˆ™å­˜å‚¨æ•°æ®ï¼Œ"),n("strong",[t._v("å…ˆè¿›å…¥")]),t._v("çš„æ•°æ®è¢«å‹å…¥"),n("strong",[t._v("æ ˆåº•")]),t._v("ï¼Œ"),n("strong",[t._v("æœ€åçš„æ•°æ®")]),t._v("åœ¨"),n("strong",[t._v("æ ˆé¡¶")]),t._v("ï¼Œéœ€è¦è¯»æ•°æ®çš„æ—¶å€™ä»"),n("strong",[t._v("æ ˆé¡¶")]),t._v("å¼€å§‹"),n("strong",[t._v("å¼¹å‡ºæ•°æ®")]),t._v("ã€‚ï¼ˆ"),n("code",[t._v("LIFO: last in first out")]),t._v("ï¼‰")]),t._v(" "),n("li",[t._v("æ ˆæ˜¯åªèƒ½åœ¨"),n("strong",[t._v("æŸä¸€ç«¯æ’å…¥")]),t._v("å’Œ"),n("strong",[t._v("åˆ é™¤")]),t._v("çš„"),n("strong",[t._v("ç‰¹æ®Šçº¿æ€§è¡¨")]),t._v("ã€‚")])]),t._v(" "),n("p",[n("strong",[t._v("é˜Ÿåˆ—ï¼ˆQueueï¼‰")])]),t._v(" "),n("ul",[n("li",[t._v("ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆ"),n("code",[t._v("front")]),t._v("ï¼‰è¿›è¡Œ"),n("strong",[t._v("åˆ é™¤")]),t._v("æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯ï¼ˆ"),n("code",[t._v("rear")]),t._v("ï¼‰è¿›è¡Œ"),n("strong",[t._v("æ’å…¥")]),t._v("æ“ä½œï¼Œå’Œ"),n("strong",[t._v("æ ˆ")]),t._v("ä¸€æ ·ï¼Œ"),n("strong",[t._v("é˜Ÿåˆ—")]),t._v("æ˜¯ä¸€ç§æ“ä½œå—é™åˆ¶çš„çº¿æ€§è¡¨ã€‚")]),t._v(" "),n("li",[t._v("è¿›è¡Œ"),n("strong",[t._v("æ’å…¥")]),t._v("æ“ä½œçš„ç«¯ç§°ä¸º"),n("strong",[t._v("é˜Ÿå°¾")]),t._v("ï¼Œè¿›è¡Œ"),n("strong",[t._v("åˆ é™¤")]),t._v("æ“ä½œçš„ç«¯ç§°ä¸º"),n("strong",[t._v("é˜Ÿå¤´")]),t._v("ã€‚ é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸º"),n("strong",[t._v("ç©ºé˜Ÿåˆ—")]),t._v("ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("é˜Ÿåˆ—")]),t._v("çš„æ•°æ®å…ƒç´ åˆç§°ä¸º"),n("strong",[t._v("é˜Ÿåˆ—å…ƒç´ ")]),t._v("ã€‚åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸º"),n("strong",[t._v("å…¥é˜Ÿ")]),t._v("ï¼Œä»"),n("strong",[t._v("é˜Ÿåˆ—")]),t._v("ä¸­"),n("strong",[t._v("åˆ é™¤")]),t._v("ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸º"),n("strong",[t._v("å‡ºé˜Ÿ")]),t._v("ã€‚")]),t._v(" "),n("li",[t._v("å› ä¸ºé˜Ÿåˆ—"),n("strong",[t._v("åªå…è®¸")]),t._v("åœ¨ä¸€ç«¯"),n("strong",[t._v("æ’å…¥")]),t._v("ï¼Œåœ¨å¦ä¸€ç«¯"),n("strong",[t._v("åˆ é™¤")]),t._v("ï¼Œæ‰€ä»¥åªæœ‰"),n("strong",[t._v("æœ€æ—©")]),t._v("è¿›å…¥"),n("strong",[t._v("é˜Ÿåˆ—")]),t._v("çš„å…ƒç´ "),n("strong",[t._v("æ‰èƒ½æœ€å…ˆä»é˜Ÿåˆ—ä¸­")]),t._v("åˆ é™¤ï¼Œæ•…é˜Ÿåˆ—åˆç§°ä¸º"),n("strong",[t._v("å…ˆè¿›å…ˆå‡º")]),t._v("ã€‚ï¼ˆ"),n("code",[t._v("FIFO: first in first out")]),t._v("ï¼‰")])]),t._v(" "),n("h3",{attrs:{id:"å®è®¤ä¸ºä¸å¾®ä»»åŠ¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®è®¤ä¸ºä¸å¾®ä»»åŠ¡"}},[t._v("#")]),t._v(" å®è®¤ä¸ºä¸å¾®ä»»åŠ¡")]),t._v(" "),n("p",[t._v("åœ¨"),n("code",[t._v("JavaScript")]),t._v("ä¸­ï¼Œä»»åŠ¡è¢«åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§å®ä»»åŠ¡ï¼ˆ"),n("code",[t._v("MacroTask")]),t._v("ï¼‰ä¹Ÿå«"),n("code",[t._v("Task")]),t._v("ï¼Œä¸€ç§å«å¾®ä»»åŠ¡ï¼ˆ"),n("code",[t._v("MicroTask")]),t._v("ï¼‰ï¼Œä¹Ÿå«"),n("code",[t._v("Jobs")]),t._v("ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("MacroTaskï¼ˆå®ä»»åŠ¡ï¼‰")])]),t._v(" "),n("p",[t._v("åœ¨ JavaScript ä¸­ï¼Œå¤§éƒ¨åˆ†çš„ä»»åŠ¡éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œä¸ºäº†è®©è¿™äº›äº‹ä»¶æœ‰æ¡ä¸ç´Šåœ°è¿›è¡Œï¼ŒJS å¼•æ“éœ€è¦å¯¹å®ƒä»¬çš„æ‰§è¡Œé¡ºåºåšä¸€å®šçš„å®‰æ’ï¼ŒV8 å…¶å®é‡‡ç”¨çš„æ˜¯"),n("code",[t._v("é˜Ÿåˆ—")]),t._v("çš„æ–¹å¼æ¥å­˜å‚¨è¿™äº›åŒæ­¥ä»»åŠ¡ï¼Œ å³å…ˆè¿›æ¥çš„å…ˆæ‰§è¡Œã€‚")]),t._v(" "),n("ul",[n("li",[t._v("script å…¨éƒ¨ä»£ç ï¼Œå³ js è„šæœ¬æ‰§è¡Œ")]),t._v(" "),n("li",[t._v("setTimeoutã€setIntervalã€setImmediateï¼ˆåªæœ‰ IE10 æ”¯æŒï¼‰")]),t._v(" "),n("li",[t._v("I/O ç”¨æˆ·äº¤äº’ã€ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™å®Œæˆäº‹ä»¶ç­‰")]),t._v(" "),n("li",[t._v("UI rendering æ¸²æŸ“äº‹ä»¶")])]),t._v(" "),n("p",[n("strong",[t._v("MicroTaskï¼ˆå¾®ä»»åŠ¡ï¼‰")])]),t._v(" "),n("p",[t._v("å¦‚æœå¼‚æ­¥å›è°ƒä¹Ÿåƒå®ä»»åŠ¡ä¸€æ ·è¿›è¡Œé˜Ÿåˆ—çš„å…¥é˜Ÿæ“ä½œï¼Œé‚£ä¹ˆæ‰§è¡Œè¿™äº›å›è°ƒçš„æ—¶æœºå°±æ˜¯åœ¨å‰é¢"),n("code",[t._v("æ‰€æœ‰çš„å®ä»»åŠ¡")]),t._v("å®Œæˆä¹‹åï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œå€˜è‹¥ç°åœ¨çš„ä»»åŠ¡é˜Ÿåˆ—éå¸¸é•¿ï¼Œé‚£ä¹ˆå¼‚æ­¥å›è°ƒè¿Ÿè¿Ÿå¾—ä¸åˆ°æ‰§è¡Œï¼Œä¼šé€ æˆ"),n("code",[t._v("åº”ç”¨å¡é¡¿")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ä¸ºäº†è§„é¿è¿™æ ·çš„é—®é¢˜ï¼ŒV8 å¼•å…¥äº†"),n("code",[t._v("å¾®ä»»åŠ¡")]),t._v("çš„è§£å†³æ–¹å¼ã€‚åœ¨æ¯ä¸€ä¸ªå®ä»»åŠ¡ä¸­å®šä¹‰ä¸€ä¸ª"),n("strong",[t._v("å¾®ä»»åŠ¡é˜Ÿåˆ—")]),t._v("ï¼Œå½“è¯¥å®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œä¼šæ£€æŸ¥å…¶ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœä¸ºç©ºåˆ™ç›´æ¥æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™"),n("code",[t._v("ä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡")]),t._v("ï¼Œæ‰§è¡Œå®Œæˆæ‰å»æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("Promiseã€fetch API")]),t._v(" "),n("li",[t._v("Object.observe ï¼ˆåºŸå¼ƒï¼‰")]),t._v(" "),n("li",[t._v("MutationObserver")]),t._v(" "),n("li",[t._v("process.nextTickï¼ˆNode ç‹¬æœ‰ï¼‰")]),t._v(" "),n("li",[t._v("V8 çš„åƒåœ¾å›æ”¶")])]),t._v(" "),n("p",[n("strong",[t._v("requestAnimationFrame")])]),t._v(" "),n("p",[n("code",[t._v("requestAnimationFrame")]),t._v("ä¹Ÿå±äºå¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œä½†è¯¥æ–¹æ³•æ—¢ä¸å±äºå®ä»»åŠ¡ï¼Œä¹Ÿä¸å±äºå¾®ä»»åŠ¡ã€‚")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("window.requestAnimationFrame()")]),t._v(" å‘Šè¯‰æµè§ˆå™¨â€”â€”ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œã€‚")])]),t._v(" "),n("p",[t._v("requestAnimationFrame æ˜¯ GUI æ¸²æŸ“ä¹‹å‰æ‰§è¡Œï¼Œä½†åœ¨å¾®æœåŠ¡ä¹‹åï¼Œä¸è¿‡ requestAnimationFrame ä¸ä¸€å®šä¼šåœ¨å½“å‰å¸§å¿…é¡»æ‰§è¡Œï¼Œç”±æµè§ˆå™¨æ ¹æ®å½“å‰çš„ç­–ç•¥è‡ªè¡Œå†³å®šåœ¨å“ªä¸€å¸§æ‰§è¡Œã€‚")]),t._v(" "),n("h3",{attrs:{id:"æµè§ˆå™¨ç«¯çš„-event-loop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨ç«¯çš„-event-loop"}},[t._v("#")]),t._v(" æµè§ˆå™¨ç«¯çš„ Event Loop")]),t._v(" "),n("p",[n("strong",[t._v("Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰æ˜¯æŒ‡æµè§ˆå™¨æˆ–"),n("code",[t._v("Node")]),t._v("çš„ä¸€ç§å®ç°"),n("code",[t._v("javaScript")]),t._v("å•çº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šé˜»å¡çš„ä¸€ç§æœºåˆ¶ï¼ˆJS è¿è¡Œæœºåˆ¶ï¼‰")]),t._v("ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„"),n("strong",[t._v("å¼‚æ­¥")]),t._v("çš„åŸç†ã€‚")]),t._v(" "),n("p",[t._v("ä¼—æ‰€å‘¨çŸ¥ JS æ˜¯ä¸€é—¨éé˜»å¡çš„å•çº¿ç¨‹è¯­è¨€ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œå³ä»£ç çš„æ‰§è¡Œæ˜¯åŒæ­¥å¹¶ä¸”é˜»å¡çš„ã€‚")]),t._v(" "),n("blockquote",[n("ol",[n("li",[t._v("é¦–å…ˆæ˜¯å†å²åŸå› ï¼Œåœ¨åˆ›å»º JS è¿™é—¨è¯­è¨€æ—¶ï¼Œå¤šè¿›ç¨‹å¤šçº¿ç¨‹çš„æ¶æ„å¹¶ä¸æµè¡Œï¼Œç¡¬ä»¶æ”¯æŒå¹¶ä¸å¥½ã€‚")]),t._v(" "),n("li",[t._v("å…¶æ¬¡æ˜¯å› ä¸ºå¤šçº¿ç¨‹çš„å¤æ‚æ€§ï¼Œå¤šçº¿ç¨‹æ“ä½œéœ€è¦åŠ é”ï¼Œç¼–ç çš„å¤æ‚æ€§ä¼šå¢é«˜ã€‚")]),t._v(" "),n("li",[t._v("æœ€ä¸»è¦çš„æ˜¯ï¼ŒJS å°±æ˜¯ä¸ºäº†å’Œæµè§ˆå™¨äº¤äº’è€Œè¯ç”Ÿçš„ï¼Œå¦‚æœåœ¨å¤šä¸ªçº¿ç¨‹ä¸­åŒæ—¶æ“ä½œ DOM ï¼Œåœ¨ä¸åŠ é”çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆä¼šå¯¼è‡´ DOM æ¸²æŸ“çš„ç»“æœä¸å¯é¢„æœŸï¼ˆä¸€ä¸ªçº¿ç¨‹ä¸­æ–°åŠ èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸­åˆ é™¤èŠ‚ç‚¹ï¼‰ã€‚")])])]),t._v(" "),n("blockquote",[n("p",[t._v('å°½ç®¡ HTML5 ä¸­æœ‰ Web-Workerï¼Œä½† JS ä»ç„¶æ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€åˆ‡ JavaScript ç‰ˆçš„"å¤šçº¿ç¨‹"éƒ½æ˜¯ç”¨å•çº¿ç¨‹æ¨¡æ‹Ÿå‡ºæ¥çš„ã€‚')])]),t._v(" "),n("p",[t._v("åªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œé‚£ javascript æ˜¯å¦‚ä½•å¤„ç†å„ç§åŒæ­¥ä¸å¼‚æ­¥å‡½æ•°çš„è°ƒç”¨å…³ç³»çš„ï¼Ÿç­”æ¡ˆæ˜¯â€”â€”"),n("strong",[t._v("è°ƒç”¨æ ˆ")]),t._v("ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(213),alt:"Event Loop"}})]),t._v(" "),n("p",[t._v("å•çº¿ç¨‹çš„è¿è¡Œç¯å¢ƒæœ‰ä¸”åªæœ‰ä¸€ä¸ª "),n("code",[t._v("call-stack")]),t._v(" è°ƒç”¨æ ˆï¼ˆæ‰§è¡Œæ ˆï¼‰ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šè¢«æ”¾åˆ°è°ƒç”¨æ ˆç­‰å¾…æµè§ˆå™¨çš„ä¸»çº¿ç¨‹æ‰§è¡Œã€‚")]),t._v(" "),n("p",[t._v("è°ƒç”¨æ ˆé‡‡ç”¨çš„æ˜¯åè¿›å…ˆå‡º (LIFO) çš„è§„åˆ™ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ï¼ˆå¦‚æœå®ƒçš„å‡½æ•°ä½“å†…æœ‰å…¶ä»–å‡½æ•°ï¼Œåˆ™å°†æ–°çš„å‡½æ•°åŠ åˆ°æ ˆé¡¶ï¼‰ï¼Œå½“å‡½æ•°åœ¨è°ƒç”¨æ ˆå†…è¢«æ‰§è¡Œå®Œæˆåï¼Œå°±ä¼šä»æ ˆé¡¶ç§»å‡ºï¼Œç›´åˆ°æ ˆå†…è¢«æ¸…ç©ºã€‚")]),t._v(" "),n("p",[t._v("å½“è°ƒç”¨æ ˆæ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå°±ä¼šåœ¨é˜Ÿåˆ—é‡Œé¢æ‰¾ä»»åŠ¡ï¼Œå¦‚æœæœ‰å¾®ä»»åŠ¡ï¼Œå°±ä¼šå…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå†å»æ‰§è¡Œå®ä»»åŠ¡ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("äº‹ä»¶å¾ªç¯ï¼š")]),t._v(" å°±æ˜¯åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥ä»»åŠ¡åŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ç­‰ä¸»çº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œå°±å»æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šä¸æ–­é‡å¤ã€‚"),n("strong",[t._v("æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆã€‚ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œå­˜åœ¨ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— (task queue), å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœä¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªä»»åŠ¡ã€‚æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå…ˆè¯»å–å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ï¼‰ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚")])]),t._v(" "),n("blockquote",[n("p",[t._v("æœ¬è´¨ä¸Šæ¥è¯´ JS ä¸­çš„å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¡Œä¸º")])]),t._v(" "),n("p",[t._v("æœ‰ç‚¹æ™•ï¼Ÿçœ‹è¿™é‡ŒğŸ‘‰ğŸ»"),n("a",{attrs:{href:"https://www.bilibili.com/video/av74599059?t=960",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ°åº•ä»€ä¹ˆæ˜¯ Event Loop å‘¢ï¼Ÿ"),n("OutboundLink")],1),t._v("ğŸ‘€")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script start'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script end'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("ä¸¾ä¸ªğŸŒ°ï¼Œä¸Šé¢ğŸ‘†çš„ä»£ç ä¸­è™½ç„¶ setTimeout å»¶æ—¶ä¸º 0ï¼Œä½†å®ƒè¿˜æ˜¯å¼‚æ­¥çš„ã€‚æ‰€ä»¥ setTimeout è¿˜æ˜¯ä¼šåœ¨ script end ä¹‹åæ‰“å°ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("In fact, HTML5 æ ‡å‡†è§„å®šè¿™ä¸ªå‡½æ•°ç¬¬äºŒä¸ªå‚æ•°ä¸å¾—å°äº 4 æ¯«ç§’ï¼Œä¸è¶³ä¼šè‡ªåŠ¨å¢åŠ ã€‚")])]),t._v(" "),n("p",[t._v("ä¸åŒçš„ä»»åŠ¡æºä¼šè¢«åˆ†é…åˆ°ä¸åŒçš„ Task é˜Ÿåˆ—ä¸­ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script start'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Promise'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script end'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// \t\t\t 1\t\t\t\t\t\t2\t\t\t\t\t\t\t3\t\t\t\t\t\t4\t\t\t\t\t\t5\t\t\t\t\t\t6")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script start => Promise => script end => promise1 => promise2 => setTimeout")]),t._v("\n")])])]),n("p",[t._v("ä»¥ä¸Šä»£ç è™½ç„¶ setTimeout å†™åœ¨ Promise ä¹‹å‰ï¼Œä½†æ˜¯å› ä¸º Promise å±äºå¾®ä»»åŠ¡è€Œ setTimeout å±äºå®ä»»åŠ¡ï¼Œæ‰€ä»¥ä¼šæœ‰ä»¥ä¸Šçš„æ‰“å°ã€‚")]),t._v(" "),n("p",[t._v("æ‰€ä»¥æ­£ç¡®çš„ä¸€æ¬¡ Event loop é¡ºåºæ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("ä¸€å¼€å§‹æ•´æ®µè„šæœ¬ä½œä¸ºç¬¬ä¸€ä¸ª"),n("strong",[t._v("å®ä»»åŠ¡")]),t._v("æ‰§è¡Œ (main script)")]),t._v(" "),n("li",[t._v("æ‰§è¡Œè¿‡ç¨‹ä¸­åŒæ­¥ä»£ç  (1)(2)(3) ç›´æ¥æ‰§è¡Œï¼Œ"),n("strong",[t._v("å®ä»»åŠ¡")]),t._v("è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œ"),n("strong",[t._v("å¾®ä»»åŠ¡")]),t._v("è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—")]),t._v(" "),n("li",[t._v("å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œå‡ºé˜Ÿï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰åˆ™ä¾æ¬¡æ‰§è¡Œ (4)(5)ï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º")]),t._v(" "),n("li",[t._v("å¿…è¦çš„è¯ï¼Œæ‰§è¡Œæµè§ˆå™¨ UI çº¿ç¨‹çš„æ¸²æŸ“å·¥ä½œ")]),t._v(" "),n("li",[t._v("æ£€æŸ¥æ˜¯å¦æœ‰ Web worker ä»»åŠ¡ï¼Œæœ‰åˆ™æ‰§è¡Œ")]),t._v(" "),n("li",[t._v("æ‰§è¡Œé˜Ÿé¦–æ–°çš„å®ä»»åŠ¡ (6)ï¼Œå›åˆ° 2ï¼Œå¼€å§‹ä¸‹ä¸€è½® Event loopï¼Œä¾æ­¤å¾ªç¯ï¼Œç›´åˆ°å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—éƒ½ä¸ºç©º")])]),t._v(" "),n("p",[t._v("é€šè¿‡ä¸Šè¿°çš„ Event loop é¡ºåºå¯çŸ¥ï¼Œå¦‚æœå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç æœ‰å¤§é‡çš„è®¡ç®—å¹¶ä¸”éœ€è¦æ“ä½œ DOM çš„è¯ï¼Œä¸ºäº†æ›´å¿«çš„ ç•Œé¢å“åº”ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ“ä½œ DOM æ”¾å…¥å¾®ä»»åŠ¡ä¸­ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("âš ï¸æ³¨æ„ï¼šPromise çš„ executor æ˜¯ä¸€ä¸ªåŒæ­¥å‡½æ•°ï¼Œå³éå¼‚æ­¥ï¼Œç«‹å³æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°ï¼Œå› æ­¤å®ƒ (2) åº”è¯¥æ˜¯å’Œå½“å‰çš„ä»»åŠ¡ä¸€èµ·æ‰§è¡Œçš„ã€‚è€Œ Promise çš„é“¾å¼è°ƒç”¨ thenï¼Œæ¯æ¬¡éƒ½ä¼šåœ¨å†…éƒ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„ Promiseï¼Œç„¶åæ‰§è¡Œ thenï¼Œåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸æ–­å‘å¾®ä»»åŠ¡ (microtask) æ¨å…¥æ–°çš„å‡½æ•°ï¼Œå› æ­¤ç›´è‡³å¾®ä»»åŠ¡çš„é˜Ÿåˆ—æ¸…ç©ºåæ‰ä¼šæ‰§è¡Œä¸‹ä¸€æ³¢çš„ macrotaskã€‚")])]),t._v(" "),n("blockquote",[n("p",[t._v("å¢™è£‚æ¨èé˜…è¯»ï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://juejin.im/post/59e85eebf265da430d571f89",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s/8xyccve0e9uA2mnk07CAWw",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¢è¯•é—®åˆ° Event Loopï¼Œè¿™æ ·å›ç­”æœ€å®Œç¾"),n("OutboundLink")],1),t._v(" ğŸ‘")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5c9a43175188252d876e5903",target:"_blank",rel:"noopener noreferrer"}},[t._v("Eventloop ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯é‡ä¸Š Promise"),n("OutboundLink")],1),t._v(" ğŸ˜«")])])]),t._v(" "),n("h2",{attrs:{id:"åƒåœ¾å›æ”¶æœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åƒåœ¾å›æ”¶æœºåˆ¶"}},[t._v("#")]),t._v(" åƒåœ¾å›æ”¶æœºåˆ¶")]),t._v(" "),n("p",[t._v("JavaScript ä¼šåœ¨åˆ›å»ºå˜é‡ï¼ˆå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ç­‰ï¼‰æ—¶åˆ†é…å†…å­˜ï¼Œå¹¶ä¸”åœ¨ä¸å†ä½¿ç”¨å®ƒä»¬æ—¶â€œè‡ªåŠ¨â€é‡Šæ”¾ã€‚ è€Œè¿™ä¸ªé‡Šæ”¾æ— ç”¨å˜é‡å†…å­˜çš„è¿‡ç¨‹è¢«ç§°ä¸ºåƒåœ¾å›æ”¶ã€‚")]),t._v(" "),n("h3",{attrs:{id:"å†…å­˜æ¨¡å‹ä¸ç”Ÿå‘½å‘¨æœŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜æ¨¡å‹ä¸ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" å†…å­˜æ¨¡å‹ä¸ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),n("p",[n("strong",[t._v("å†…å­˜æ¨¡å‹")])]),t._v(" "),n("ol",[n("li",[t._v("åŸºæœ¬ç±»å‹æ•°æ®ä»¥åŠå¤æ‚ç±»å‹æ•°æ®éƒ½æ˜¯å¦‚ä½•å­˜æ”¾çš„å‘¢ï¼Ÿ")])]),t._v(" "),n("ul",[n("li",[t._v("åŸºæœ¬ç±»å‹æ™®éè¢«å­˜æ”¾åœ¨ã€æ ˆã€ä¸­ï¼Œè€Œå¤æ‚ç±»å‹æ˜¯è¢«å­˜æ”¾åœ¨å †å†…å­˜çš„ã€‚")])]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("æ‰§è¡Œæ ˆçš„å‡½æ•°æ˜¯å¦‚ä½•ä½¿ç”¨å†…å­˜å †çš„å¤æ‚ç±»å‹ï¼Ÿ")])]),t._v(" "),n("ul",[n("li",[t._v("å®é™…ä¸Šï¼Œæ‰§è¡Œæ ˆçš„å‡½æ•°ä¸Šä¸‹æ–‡ä¼šä¿å­˜ä¸€ä¸ªå†…å­˜å †å¯¹åº”å¤æ‚ç±»å‹å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œé€šè¿‡å¼•ç”¨æ¥ä½¿ç”¨å¤æ‚ç±»å‹å¯¹è±¡ã€‚")])]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("æ˜¯å¦æ‰€æœ‰çš„åŸºæœ¬ç±»å‹éƒ½å‚¨å­˜åœ¨æ ˆä¸­å‘¢ï¼Ÿ")])]),t._v(" "),n("ul",[n("li",[t._v("å¹¶ä¸æ˜¯ï¼Œå½“ä¸€ä¸ªåŸºæœ¬ç±»å‹è¢«é—­åŒ…å¼•ç”¨ä¹‹åï¼Œå°±å¯ä»¥é•¿æœŸå­˜åœ¨äºå†…å­˜ä¸­ï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿ä»–æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¹Ÿæ˜¯ä¼šè¢«å­˜æ”¾åœ¨å †ä¸­çš„ã€‚")])]),t._v(" "),n("p",[n("strong",[t._v("ç”Ÿå‘½å‘¨æœŸ")])]),t._v(" "),n("p",[t._v("ä¸ç®¡ä»€ä¹ˆç¨‹åºè¯­è¨€ï¼Œå†…å­˜ç”Ÿå‘½å‘¨æœŸåŸºæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼šåˆ†é… => ä½¿ç”¨ï¼ˆè¯»ã€å†™ï¼‰=> é‡Šæ”¾")]),t._v(" "),n("blockquote",[n("p",[t._v("æ‰€æœ‰è¯­è¨€ç¬¬äºŒéƒ¨åˆ†éƒ½æ˜¯æ˜ç¡®çš„ã€‚ç¬¬ä¸€å’Œç¬¬ä¸‰éƒ¨åˆ†åœ¨åº•å±‚è¯­è¨€ä¸­æ˜¯æ˜ç¡®çš„ï¼Œä½†åœ¨åƒ JavaScript è¿™äº›é«˜çº§è¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯éšå«çš„ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"v8-åˆ†ä»£å¼å›æ”¶æœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#v8-åˆ†ä»£å¼å›æ”¶æœºåˆ¶"}},[t._v("#")]),t._v(" V8 åˆ†ä»£å¼å›æ”¶æœºåˆ¶")]),t._v(" "),n("p",[t._v("V8 çš„ GC ï¼ˆGarbage Collectionï¼‰ç®—æ³•ç­–ç•¥åŸºäºåˆ†ä»£å¼å›æ”¶æœºåˆ¶ï¼Œè¯¥æœºåˆ¶åˆåŸºäº"),n("strong",[t._v("ä¸–ä»£å‡è¯´ã€‚")])]),t._v(" "),n("p",[t._v("è¯¥å‡è¯´æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å¤§éƒ¨åˆ†æ–°ç”Ÿå¯¹è±¡å€¾å‘äºæ—©æ­»")]),t._v(" "),n("li",[t._v("ä¸æ­»çš„å¯¹è±¡ï¼Œä¼šæ´»å¾—æ›´ä¹…")])]),t._v(" "),n("p",[t._v("åŸºäºè¿™ä¸ªç†è®ºï¼ŒV8 å¼•æ“æ ¹æ®å¯¹è±¡çš„å­˜æ´»æ—¶é—´å°†å†…å­˜ï¼ˆå †ï¼‰åˆ†ä¸ºæ–°ç”Ÿä»£ï¼ˆnew spaceï¼‰å’Œè€ç”Ÿä»£ï¼ˆold spaceï¼‰ä¸¤éƒ¨åˆ†ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("æ–°ç”Ÿä»£ï¼šå¯¹è±¡çš„å­˜æ´»æ—¶é—´è¾ƒçŸ­ã€‚æ–°ç”Ÿå¯¹è±¡æˆ–åªç»è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡ã€‚")]),t._v(" "),n("li",[t._v("è€ç”Ÿä»£ï¼šå¯¹è±¡å­˜æ´»æ—¶é—´è¾ƒé•¿ã€‚ç»å†è¿‡ä¸€æ¬¡æˆ–å¤šæ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡ã€‚")])]),t._v(" "),n("p",[t._v("å› ä¸ºå†…å­˜åˆ†ä»£ï¼Œå¹¶å¯¹ä¸åŒåˆ†ä»£çš„å†…å­˜é‡‡ç”¨ä¸åŒçš„é«˜æ•ˆç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ã€‚V8 å®ç°äº†å‡†ç¡®å¼çš„ GCã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å…¨åœé¡¿ï¼ˆStop The Worldï¼‰")])]),t._v(" "),n("p",[t._v("åœ¨ä»‹ç»åƒåœ¾å›æ”¶ç®—æ³•ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œå…¨åœé¡¿ï¼š")]),t._v(" "),n("p",[t._v("ä¸ºé¿å…åº”ç”¨é€»è¾‘ä¸åƒåœ¾å›æ”¶å™¨çœ‹åˆ°çš„æƒ…å†µä¸ä¸€è‡´ï¼Œåƒåœ¾å›æ”¶ç®—æ³•åœ¨æ‰§è¡Œå‰ï¼Œéœ€è¦å°†åº”ç”¨é€»è¾‘æš‚åœï¼Œæ‰§è¡Œå®Œåƒåœ¾å›æ”¶åå†æ‰§è¡Œåº”ç”¨é€»è¾‘ï¼Œè¿™ç§è¡Œä¸ºç§°ä¸º ã€Œå…¨åœé¡¿ã€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€æ¬¡ GC éœ€è¦ 50msï¼Œåº”ç”¨é€»è¾‘å°±ä¼šæš‚åœ 50msã€‚")]),t._v(" "),n("h4",{attrs:{id:"æ–°ç”Ÿä»£-scavenge-ç®—æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ–°ç”Ÿä»£-scavenge-ç®—æ³•"}},[t._v("#")]),t._v(" æ–°ç”Ÿä»£ Scavenge ç®—æ³•")]),t._v(" "),n("p",[t._v("æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸»è¦é€šè¿‡ Scavenge ç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ã€‚Scavenge çš„å…·ä½“å®ç°ï¼Œä¸»è¦é‡‡ç”¨äº† Cheney ç®—æ³•ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(214),alt:"Scavenge ç®—æ³•"}})]),t._v(" "),n("ol",[n("li",[t._v("åœ¨æ–°ç”Ÿä»£ç©ºé—´ä¸­ï¼Œå°†å †å†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆsemispaceï¼‰ã€‚")]),t._v(" "),n("li",[t._v("åœ¨è¿™ä¸¤ä¸ªç©ºé—´ä¸­ï¼Œå¿…å®šæœ‰ä¸€ä¸ªç©ºé—´æ˜¯ä½¿ç”¨çš„ï¼ˆFrom ç©ºé—´ï¼‰ï¼Œå¦ä¸€ä¸ªç©ºé—´æ˜¯ç©ºé—²çš„ï¼ˆTo ç©ºé—´ï¼‰ã€‚")]),t._v(" "),n("li",[t._v("åœ¨ From ç©ºé—´ä¸­åˆ†é…æ–°å¯¹è±¡å†…å­˜ï¼Œå½“ From ç©ºé—´è¢«å æ»¡æ—¶ï¼Œæ–°ç”Ÿä»£ GC å°±ä¼šå¯åŠ¨æ‰§è¡Œã€‚")]),t._v(" "),n("li",[t._v("æ£€æŸ¥ From ç©ºé—´çš„å­˜æ´»å¯¹è±¡ï¼Œè‹¥å¯¹è±¡å­˜æ´»ï¼Œåˆ™æ£€æŸ¥å¯¹è±¡æ˜¯å¦ç¬¦åˆæ™‹å‡æ¡ä»¶ï¼Œè‹¥ç¬¦åˆæ¡ä»¶åˆ™æ™‹å‡åˆ°è€ç”Ÿä»£ï¼Œå¦åˆ™å°†å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶åˆ° To ç©ºé—´ã€‚")]),t._v(" "),n("li",[t._v("è‹¥å¯¹è±¡å¤±æ´»ï¼Œåˆ™é”€æ¯å¤±æ´»å¯¹è±¡å¹¶é‡Šæ”¾ç©ºé—´ã€‚")]),t._v(" "),n("li",[t._v("å½“å¤åˆ¶å®Œæˆåï¼Œå°† From ç©ºé—´å’Œ To ç©ºé—´äº’æ¢ï¼Œè¿›è¡Œè§’è‰²ç¿»è½¬ï¼ˆflipï¼‰ï¼Œè¿™æ · GC å°±ç»“æŸäº†ã€‚")])]),t._v(" "),n("p",[t._v("Scavenge/Cheney ç®—æ³•çš„ç¼ºç‚¹æ˜¯ï¼Œå®ƒçš„ç®—æ³•æœºåˆ¶å†³å®šäº†åªèƒ½åˆ©ç”¨ä¸€åŠçš„å†…å­˜ç©ºé—´ã€‚ä½†æ˜¯æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ç”Ÿå­˜å‘¨æœŸçŸ­ã€å­˜æ´»å¯¹è±¡å°‘ï¼Œè¿›è¡Œå¯¹è±¡å¤åˆ¶çš„æˆæœ¬ä¸æ˜¯å¾ˆé«˜ï¼Œå› è€Œéå¸¸é€‚åˆè¿™ç§åœºæ™¯ã€‚")]),t._v(" "),n("h4",{attrs:{id:"è€ç”Ÿä»£ç®—æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è€ç”Ÿä»£ç®—æ³•"}},[t._v("#")]),t._v(" è€ç”Ÿä»£ç®—æ³•")]),t._v(" "),n("p",[t._v("é¦–å…ˆï¼Œè€ç”Ÿä»£ç©ºé—´ä¸­çš„å¯¹è±¡ä¹Ÿæ˜¯ä»æ–°ç”Ÿä»£ä¸­æ™‹å‡è€Œæ¥çš„ï¼Œå¯¹è±¡æ™‹å‡åˆ°è€ç”Ÿä»£åï¼Œå°†æ¥å—æ–°çš„åƒåœ¾å›æ”¶ç®—æ³•å¤„ç†ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(215),alt:"å¯¹è±¡æ™‹å‡"}})]),t._v(" "),n("p",[n("strong",[t._v("å¯¹è±¡æ™‹å‡çš„æ¡ä»¶ï¼š")])]),t._v(" "),n("ol",[n("li",[n("p",[t._v("å¯¹è±¡æ˜¯å¦ç»å†è¿‡ä¸€æ¬¡ Scavenge ç®—æ³•å›æ”¶ã€‚ğŸ‘†")]),t._v(" "),n("blockquote",[n("p",[t._v("å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶ To ç©ºé—´æ—¶ï¼Œä¼š"),n("strong",[t._v("æ£€æŸ¥å¯¹è±¡çš„å†…å­˜åœ°å€")]),t._v("æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»ç»è¿‡ä¸€æ¬¡ Scavenge å›æ”¶ã€‚è‹¥ç»å†è¿‡ï¼Œåˆ™å°†å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶åˆ°è€ç”Ÿä»£ä¸­ï¼›è‹¥æ²¡æœ‰ç»å†ï¼Œåˆ™å¤åˆ¶åˆ° To ç©ºé—´ã€‚")])])]),t._v(" "),n("li",[n("p",[t._v("To ç©ºé—´çš„å¯¹è±¡å†…å­˜ä½¿ç”¨å æ¯”æ˜¯å¦è¶…è¿‡ 25%çš„é™åˆ¶ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("å½“å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶åˆ° To ç©ºé—´æ—¶ï¼Œè‹¥ To ç©ºé—´ä½¿ç”¨è¶…è¿‡ 25%ï¼Œåˆ™å¯¹è±¡ç›´æ¥æ™‹å‡åˆ°è€ç”Ÿä»£ä¸­ã€‚è®¾ç½®ä¸º 25%çš„æ¯”ä¾‹çš„åŸå› æ˜¯ï¼Œå½“å®Œæˆ Scavenge å›æ”¶åï¼ŒTo ç©ºé—´å°†ç¿»è½¬æˆ From ç©ºé—´ï¼Œç»§ç»­è¿›è¡Œå¯¹è±¡å†…å­˜çš„åˆ†é…ã€‚è‹¥å æ¯”è¿‡å¤§ï¼Œå°†å½±å“åç»­å†…å­˜åˆ†é…ã€‚")])])])]),t._v(" "),n("p",[t._v("è€ç”Ÿä»£ä¸­çš„å¯¹è±¡æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼Œç¬¬ä¸€æ˜¯å­˜æ´»å¯¹è±¡å¤šï¼Œç¬¬äºŒä¸ªå­˜æ´»æ—¶é—´é•¿ã€‚")]),t._v(" "),n("p",[t._v("è‹¥åœ¨è€ç”Ÿä»£ä¸­ä½¿ç”¨ Scavenge ç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå°†ä¼šå¯¼è‡´å¤åˆ¶å­˜æ´»å¯¹è±¡çš„æ•ˆç‡ä¸é«˜ï¼Œä¸”è¿˜ä¼šæµªè´¹ä¸€åŠçš„ç©ºé—´ã€‚")]),t._v(" "),n("p",[t._v("å› è€Œï¼ŒV8 åœ¨è€ç”Ÿä»£é‡‡ç”¨**æ ‡è®°æ¸…é™¤ï¼ˆMark-Sweep ï¼‰"),n("strong",[t._v("å’Œ")]),t._v("æ ‡è®°å‹ç¼©ï¼ˆMark-Compact ï¼‰**ä¸¤ç§ç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ã€‚")]),t._v(" "),n("p",[t._v("Mark-Sweepï¼Œåˆ†ä¸ºæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªé˜¶æ®µï¼š")]),t._v(" "),n("ol",[n("li",[t._v("æ ‡è®°é˜¶æ®µï¼Œå®ƒå°†éå†å †ä¸­æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶å¯¹å­˜æ´»çš„å¯¹è±¡è¿›è¡Œæ ‡è®°ã€‚")]),t._v(" "),n("li",[t._v("æ¸…é™¤é˜¶æ®µï¼Œå¯¹æœªæ ‡è®°å¯¹è±¡çš„ç©ºé—´è¿›è¡Œå›æ”¶ã€‚")])]),t._v(" "),n("blockquote",[n("p",[t._v("ä¸ Scavenge ç®—æ³•ä¸åŒï¼ŒMark-Sweep ä¸ä¼šå¯¹å†…å­˜ä¸€åˆ†ä¸ºäºŒï¼Œå› æ­¤ä¸ä¼šæµªè´¹ç©ºé—´ã€‚ä½†æ˜¯ï¼Œç»å†è¿‡ä¸€æ¬¡ Mark-Sweep ä¹‹åï¼Œå†…å­˜çš„ç©ºé—´å°†ä¼šå˜å¾—ä¸è¿ç»­ï¼Œè¿™æ ·ä¼šå¯¹åç»­å†…å­˜åˆ†é…é€ æˆé—®é¢˜ã€‚æ¯”å¦‚ï¼Œå½“éœ€è¦åˆ†é…ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡æ—¶ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªç¢ç‰‡å†…æ”¯æŒåˆ†é…ï¼Œè¿™å°†æå‰è§¦å‘ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œå°½ç®¡è¿™æ¬¡åƒåœ¾å›æ”¶æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚")])]),t._v(" "),n("p",[t._v("æ¸…é™¤å¯¹è±¡åä¼šé€ æˆå †å†…å­˜å‡ºç°ç¢ç‰‡çš„æƒ…å†µï¼Œä¸ºäº†æé«˜å¯¹å†…å­˜çš„åˆ©ç”¨ï¼Œå½“ç¢ç‰‡è¶…è¿‡ä¸€å®šé™åˆ¶åä¼šå¯åŠ¨ Mark-Compact å‹ç¼©ç®—æ³•ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("Mark-Compact æ˜¯åœ¨ Mark-Sweep ç®—æ³•ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œæ ‡è®°é˜¶æ®µä¸ Mark-Sweep ç›¸åŒï¼Œä½†æ˜¯å¯¹æœªæ ‡è®°çš„å¯¹è±¡å¤„ç†æ–¹å¼ä¸åŒã€‚Mark-Sweep æ˜¯å¯¹æœªæ ‡è®°çš„å¯¹è±¡ç«‹å³è¿›è¡Œå›æ”¶ï¼ŒMark-Compact åˆ™æ˜¯å°†å­˜æ´»çš„å¯¹è±¡ç§»åŠ¨åˆ°ä¸€è¾¹ï¼Œç›´åˆ°æ‰€æœ‰å¯¹è±¡éƒ½ç§»åŠ¨å®Œæˆç„¶åæ¸…ç†æ‰ä¸éœ€è¦çš„å†…å­˜ã€‚")])]),t._v(" "),n("p",[t._v("ç”±äº Mark-Compact éœ€è¦ç§»åŠ¨å¯¹è±¡ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦ä¸Šï¼Œæ¯” Mark-Sweep è¦æ…¢ã€‚æ‰€ä»¥ï¼ŒV8 ä¸»è¦ä½¿ç”¨ Mark-Sweep ç®—æ³•ï¼Œç„¶ååœ¨å½“ç©ºé—´å†…å­˜åˆ†é…ä¸è¶³æ—¶ï¼Œé‡‡ç”¨ Mark-Compact ç®—æ³•ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å¢é‡æ ‡è®°ï¼ˆIncremental Markingï¼‰")])]),t._v(" "),n("p",[t._v("åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œç”±äºå­˜æ´»å¯¹è±¡å°‘ï¼Œåƒåœ¾å›æ”¶æ•ˆç‡é«˜ï¼Œå…¨åœé¡¿æ—¶é—´çŸ­ï¼Œé€ æˆçš„å½±å“å°ã€‚ä½†æ˜¯è€ç”Ÿä»£ä¸­ï¼Œå­˜æ´»å¯¹è±¡å¤šï¼Œåƒåœ¾å›æ”¶æ—¶é—´é•¿ï¼Œå…¨åœé¡¿é€ æˆçš„å½±å“å¤§ã€‚é•¿æ—¶é—´çš„ GCï¼Œä¼šå¯¼è‡´åº”ç”¨æš‚åœå’Œæ— å“åº”ï¼Œå°†ä¼šå¯¼è‡´ç³Ÿç³•çš„ç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),n("p",[t._v("ä¸ºäº†å‡å°‘å…¨åœé¡¿æ—¶é—´è¿‡é•¿å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œ2011 å¹´ï¼ŒV8 å¯¹æ ‡è®°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä» stop-the-world æ ‡è®°åˆ‡æ¢åˆ°å¢é‡æ ‡è®°ï¼Œå³å°†ä¸€æ¬¡åœé¡¿è¿›è¡Œçš„æ ‡è®°å·¥ä½œåˆ†è§£ä¸ºæ›´å°çš„æ¨¡å—ï¼Œå¯ä»¥è®© JS åº”ç”¨é€»è¾‘åœ¨æ¨¡å—é—´éš™æ‰§è¡Œä¸€ä¼šï¼Œè¿™æ ·äº¤æ›¿å¤šæ¬¡åå®Œæˆæ ‡è®°ï¼Œä»è€Œä¸è‡³äºè®©åº”ç”¨å‡ºç°åœé¡¿æƒ…å†µã€‚æ”¹è¿›åçš„æ ‡è®°æ–¹å¼ï¼Œæœ€å¤§åœé¡¿æ—¶é—´å‡å°‘åˆ°åŸæ¥çš„ 1/6ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å¹¶å‘æ ‡è®°")])]),t._v(" "),n("p",[t._v("åœ¨ 2018 å¹´ï¼ŒGC æŠ€æœ¯åˆæœ‰äº†ä¸€ä¸ªé‡å¤§çªç ´ï¼Œè¿™é¡¹æŠ€æœ¯åä¸ºå¹¶å‘æ ‡è®°ã€‚è¯¥æŠ€æœ¯å¯ä»¥è®© GC æ‰«æå’Œæ ‡è®°å¯¹è±¡æ—¶ï¼ŒåŒæ—¶å…è®¸ JS è¿è¡Œï¼Œå¯ä»¥ç‚¹å‡» "),n("a",{attrs:{href:"https://v8project.blogspot.com/2018/06/concurrent-marking.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯¥åšå®¢"),n("OutboundLink")],1),t._v(" è¯¦ç»†é˜…è¯»ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("å†…å­˜æ³„æ¼")])]),t._v(" "),n("p",[t._v("ä¼šå¼•èµ·å†…å­˜æ³„æ¼çš„å‡ ç§ç¦å¿Œï¼š")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("æ»¥ç”¨é—­åŒ…")])]),t._v(" "),n("li",[n("p",[t._v("æ»¥ç”¨å…¨å±€å˜é‡ï¼šç›´æ¥ç”¨å…¨å±€å˜é‡èµ‹å€¼ï¼Œåœ¨å‡½æ•°ä¸­æ»¥ç”¨ this æŒ‡å‘å…¨å±€å¯¹è±¡")])]),t._v(" "),n("li",[n("p",[t._v("ä¸é”€æ¯å®šæ—¶å™¨å’Œå›è°ƒ")])]),t._v(" "),n("li",[n("p",[t._v("DOM å¼•ç”¨ä¸è§„èŒƒï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯¹ Dom çš„æ“ä½œï¼Œä¼šæŠŠ Dom çš„å¼•ç”¨ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„æˆ–è€… Map ä¸­ï¼Œå¾€å¾€æ— æ³•å¯¹å…¶è¿›è¡Œå†…å­˜å›æ”¶ã€‚")])])]),t._v(" "),n("blockquote",[n("p",[t._v("ES6 ä¸­å¼•å…¥ WeakSet å’Œ WeakMap ä¸¤ä¸ªæ–°çš„æ¦‚å¿µï¼Œæ¥è§£å†³å¼•ç”¨é€ æˆçš„å†…å­˜å›æ”¶é—®é¢˜ã€‚WeakSet å’Œ WeakMap å¯¹äºå€¼çš„å¼•ç”¨å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä»–ä»¬å¯¹äºå€¼çš„å¼•ç”¨æ˜¯å¼±å¼•ç”¨ï¼Œå†…å­˜å›æ”¶æœºåˆ¶ï¼Œä¸ä¼šè€ƒè™‘è¿™ç§å¼•ç”¨ã€‚å½“å…¶ä»–å¼•ç”¨è¢«æ¶ˆé™¤åï¼Œå¼•ç”¨å°±ä¼šä»å†…å­˜ä¸­è¢«é‡Šæ”¾ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"äº‹ä»¶æœºåˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶æœºåˆ¶"}},[t._v("#")]),t._v(" äº‹ä»¶æœºåˆ¶")]),t._v(" "),n("h3",{attrs:{id:"äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ"}},[t._v("#")]),t._v(" äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ")]),t._v(" "),n("ol",[n("li",[n("strong",[t._v("æ•è·ï¼š")]),t._v(" "),n("code",[t._v("window")]),t._v(" å¾€äº‹ä»¶è§¦å‘å¤„ä¼ æ’­ï¼Œé‡åˆ°æ³¨å†Œçš„æ•è·äº‹ä»¶ä¼šè§¦å‘ã€‚")]),t._v(" "),n("li",[t._v("ä¼ æ’­åˆ°äº‹ä»¶è§¦å‘å¤„æ—¶è§¦å‘æ³¨å†Œçš„äº‹ä»¶ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("å†’æ³¡ï¼š")]),t._v(" ä»äº‹ä»¶è§¦å‘å¤„å¾€ "),n("code",[t._v("window")]),t._v(" ä¼ æ’­ï¼Œé‡åˆ°æ³¨å†Œçš„å†’æ³¡äº‹ä»¶ä¼šè§¦å‘ã€‚")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»¥ä¸‹ä¼šå…ˆæ‰“å°å†’æ³¡ç„¶åæ˜¯æ•è·")]),t._v("\nnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å†’æ³¡'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•è· '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("ul",[n("li",[t._v("é˜»æ­¢äº‹ä»¶å†’æ³¡ e.stopPropagation()")])]),t._v(" "),n("h3",{attrs:{id:"æ³¨å†Œäº‹ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œäº‹ä»¶"}},[t._v("#")]),t._v(" æ³¨å†Œäº‹ä»¶")]),t._v(" "),n("p",[t._v("é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ "),n("code",[t._v("addEventListener")]),t._v(" æ³¨å†Œäº‹ä»¶ï¼Œè¯¥å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æ˜¯å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚å¯¹äºå¸ƒå°”å€¼ "),n("code",[t._v("useCapture")]),t._v(" å‚æ•°æ¥è¯´ï¼Œè¯¥å‚æ•°é»˜è®¤å€¼ä¸º "),n("code",[t._v("false")]),t._v(" ã€‚"),n("code",[t._v("useCapture")]),t._v(" å†³å®šäº†æ³¨å†Œçš„äº‹ä»¶æ˜¯æ•è·äº‹ä»¶è¿˜æ˜¯å†’æ³¡äº‹ä»¶ã€‚å¯¹äºå¯¹è±¡å‚æ•°æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ä¸ªå±æ€§")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("capture")]),t._v("ï¼Œå¸ƒå°”å€¼ï¼Œå’Œ "),n("code",[t._v("useCapture")]),t._v(" ä½œç”¨ä¸€æ ·")]),t._v(" "),n("li",[n("code",[t._v("once")]),t._v("ï¼Œå¸ƒå°”å€¼ï¼Œå€¼ä¸º "),n("code",[t._v("true")]),t._v(" è¡¨ç¤ºè¯¥å›è°ƒåªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œè°ƒç”¨åä¼šç§»é™¤ç›‘å¬")]),t._v(" "),n("li",[n("code",[t._v("passive")]),t._v("ï¼Œå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ°¸è¿œä¸ä¼šè°ƒç”¨ "),n("code",[t._v("preventDefault")])])]),t._v(" "),n("p",[t._v("ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªå¸Œæœ›äº‹ä»¶åªè§¦å‘åœ¨ç›®æ ‡ä¸Šï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ "),n("code",[t._v("stopPropagation")]),t._v(" æ¥é˜»æ­¢äº‹ä»¶çš„è¿›ä¸€æ­¥ä¼ æ’­ã€‚é€šå¸¸æˆ‘ä»¬è®¤ä¸º "),n("code",[t._v("stopPropagation")]),t._v(" æ˜¯ç”¨æ¥é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ï¼Œå…¶å®è¯¥å‡½æ•°ä¹Ÿå¯ä»¥é˜»æ­¢æ•è·äº‹ä»¶ã€‚"),n("code",[t._v("stopImmediatePropagation")]),t._v(" åŒæ ·ä¹Ÿèƒ½å®ç°é˜»æ­¢äº‹ä»¶ï¼Œä½†æ˜¯è¿˜èƒ½é˜»æ­¢è¯¥äº‹ä»¶ç›®æ ‡æ‰§è¡Œåˆ«çš„æ³¨å†Œäº‹ä»¶ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopImmediatePropagation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å†’æ³¡'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç‚¹å‡» node åªä¼šæ‰§è¡Œä¸Šé¢çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸ä¼šæ‰§è¡Œ")]),t._v("\nnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•è· '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"äº‹ä»¶ä»£ç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶ä»£ç†"}},[t._v("#")]),t._v(" äº‹ä»¶ä»£ç†")]),t._v(" "),n("p",[t._v("å¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„å­èŠ‚ç‚¹æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆå­èŠ‚ç‚¹éœ€è¦æ³¨å†Œäº‹ä»¶çš„è¯åº”è¯¥æ³¨å†Œåœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œå³äº‹ä»¶ä»£ç†ã€‚")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("é¡¹ç›® 1"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("é¡¹ç›® 2"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("é¡¹ç›® 3"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- éšæ—¶ä¼šæ–°å¢æ›´å¤šçš„ li æ ‡ç­¾ --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("äº‹ä»¶ä»£ç†çš„æ–¹å¼ç›¸å¯¹äºç›´æ¥ç»™ç›®æ ‡æ³¨å†Œäº‹ä»¶æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¼˜ç‚¹")]),t._v(" "),n("ul",[n("li",[t._v("èŠ‚çœå†…å­˜")]),t._v(" "),n("li",[t._v("ä¸éœ€è¦ç»™å­èŠ‚ç‚¹æ³¨é”€äº‹ä»¶")])]),t._v(" "),n("h2",{attrs:{id:"bom-æ“ä½œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bom-æ“ä½œ"}},[t._v("#")]),t._v(" BOM æ“ä½œ")]),t._v(" "),n("p",[t._v("BOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰æ˜¯æµè§ˆå™¨æœ¬èº«çš„ä¸€äº›ä¿¡æ¯çš„è®¾ç½®å’Œè·å–ï¼Œä¾‹å¦‚è·å–æµè§ˆå™¨çš„å®½åº¦ã€é«˜åº¦ï¼Œè®¾ç½®è®©æµè§ˆå™¨è·³è½¬åˆ°å“ªä¸ªåœ°å€ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("window.screen å¯¹è±¡ï¼šåŒ…å«æœ‰å…³ç”¨æˆ·å±å¹•çš„ä¿¡æ¯")]),t._v(" "),n("li",[t._v("window.location å¯¹è±¡ï¼šç”¨äºè·å¾—å½“å‰é¡µé¢çš„åœ°å€ (URL)ï¼Œå¹¶æŠŠæµè§ˆå™¨é‡å®šå‘åˆ°æ–°çš„é¡µé¢")]),t._v(" "),n("li",[t._v("window.history å¯¹è±¡ï¼šæµè§ˆå†å²çš„å‰è¿›åé€€ç­‰")]),t._v(" "),n("li",[t._v("window.navigator å¯¹è±¡ï¼šå¸¸å¸¸ç”¨æ¥è·å–æµè§ˆå™¨ä¿¡æ¯ã€æ˜¯å¦ç§»åŠ¨ç«¯è®¿é—®ç­‰ç­‰")])]),t._v(" "),n("p",[t._v("ä¸¾å‡ ä¸ªä¾‹å­ğŸŒ°")]),t._v(" "),n("ul",[n("li",[t._v("è·å–å±å¹•çš„å®½åº¦å’Œé«˜åº¦ "),n("code",[t._v("screen.width")]),t._v(" ä¸ "),n("code",[t._v("screen.height")])]),t._v(" "),n("li",[t._v("å¤åˆ¶ä»£ç è·å–ç½‘å€ã€åè®®ã€pathã€å‚æ•°ã€hash ç­‰")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾‹å¦‚å½“å‰ç½‘å€æ˜¯ https://xxx.com/demo/frontend?a=10&b=10#some")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://xxx.com/demo/frontend?a=10&b=10#some")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https:")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /demo/frontend")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ?a=10&b=10")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #some")]),t._v("\n")])])]),n("ul",[n("li",[t._v("å¤åˆ¶ä»£ç å¦å¤–ï¼Œè¿˜æœ‰è°ƒç”¨æµè§ˆå™¨çš„å‰è¿›ã€åé€€åŠŸèƒ½ç­‰ "),n("code",[t._v("history.back()")]),t._v("ä¸"),n("code",[t._v("history.forward()")])]),t._v(" "),n("li",[t._v("å¤åˆ¶ä»£ç è·å–æµè§ˆå™¨ç‰¹æ€§ï¼ˆå³ä¿—ç§°çš„ UAï¼‰ç„¶åè¯†åˆ«å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚åˆ¤æ–­æ˜¯ä¸æ˜¯ Chrome æµè§ˆå™¨")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ua "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userAgent\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" isChrome "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ua"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Chrome'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isChrome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"ajax-ä¸-è·¨åŸŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ajax-ä¸-è·¨åŸŸ"}},[t._v("#")]),t._v(" Ajax ä¸ è·¨åŸŸ")]),t._v(" "),n("h3",{attrs:{id:"ajax"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ajax"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),n("blockquote",[n("p",[t._v("æ¨èé˜…è¯»ï¼š"),n("a",{attrs:{href:"https://juejin.im/post/58c883ecb123db005311861a",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ajax çŸ¥è¯†ä½“ç³»å¤§æ¢³ç†"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"è·¨åŸŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸ"}},[t._v("#")]),t._v(" è·¨åŸŸ")]),t._v(" "),n("p",[n("strong",[t._v("åŒæºç­–ç•¥ï¼š")])]),t._v(" "),n("p",[t._v("å› ä¸ºæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ï¼Œå³åŒæºç­–ç•¥ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦å®‰å…¨æœºåˆ¶ã€‚")]),t._v(" "),n("p",[t._v('åŒæºæ˜¯æŒ‡"åè®®+åŸŸå+ç«¯å£"ä¸‰è€…ç›¸åŒï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹ŸéåŒæºã€‚')]),t._v(" "),n("p",[t._v("åè®®ã€åŸŸåæˆ–è€…ç«¯å£æœ‰ä¸€ä¸ªä¸åŒå°±ç®—è·¨åŸŸï¼Œè€Œä¸”æ‰€æœ‰çš„è·¨åŸŸè¯·æ±‚éƒ½å¿…é¡»ç»è¿‡ä¿¡æ¯æä¾›æ–¹å…è®¸ï¼Œå¦åˆ™ Ajax è¯·æ±‚å°±ä¼šå¤±è´¥ã€‚")]),t._v(" "),n("p",[t._v("æµè§ˆå™¨ä¸­çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯å—åŒæºç­–ç•¥é™åˆ¶çš„ï¼Œä½†æ˜¯ä»¥ä¸‹ä¸‰ä¸ª HTML æ ‡ç­¾å¯ä»¥ä¸å—é™åˆ¶ï¼Œå¯ä»¥è·¨åŸŸåŠ è½½èµ„æºï¼š")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("å› æ­¤è¿™ä¸‰ä¸ªæ ‡ç­¾åˆ†åˆ«æœ‰å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯ï¼š")]),t._v(" "),n("blockquote",[n("p",[t._v("img ç”¨äºæ‰“ç‚¹ç»Ÿè®¡ï¼Œç»Ÿè®¡ç½‘ç«™å¯èƒ½æ˜¯å…¶ä»–åŸŸ")]),t._v(" "),n("p",[t._v("linkã€script å¯ä»¥ä½¿ç”¨ CDNï¼ŒCDN åŠ è½½çš„ä¹Ÿæ˜¯å…¶ä»–åŸŸèµ„æº")]),t._v(" "),n("p",[t._v("script å¯ä»¥ç”¨äº JSONP")])]),t._v(" "),n("h4",{attrs:{id:"å‡ ç§å®ç°è·¨åŸŸçš„å¸¸ç”¨æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‡ ç§å®ç°è·¨åŸŸçš„å¸¸ç”¨æ–¹æ³•"}},[t._v("#")]),t._v(" å‡ ç§å®ç°è·¨åŸŸçš„å¸¸ç”¨æ–¹æ³•")]),t._v(" "),n("p",[n("strong",[t._v("1. JSONP")])]),t._v(" "),n("p",[t._v("jsonp æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Hackï¼Œå®ƒçš„åŸç†å°±æ˜¯åˆ©ç”¨"),n("code",[t._v("<script>")]),t._v("æ ‡ç­¾ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹æ€§ï¼Œé€šè¿‡ "),n("code",[t._v("<script>")]),t._v(" æ ‡ç­¾æŒ‡å‘ä¸€ä¸ªéœ€è¦è®¿é—®çš„åœ°å€å¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ¥æ”¶æ•°æ®ï¼Œä»è€Œå®ç°è·¨åŸŸæ“ä½œã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://domain/api?param1=a&param2=b&callback=jsonp"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ–è€…æ˜¯ä¸‹é¢è¿™ç§æ–¹å¼")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("callback")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://demo.com/api.js"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥æ¥å£å°†è¿”å› callback({x:10, y:20}) æ‰§è¡Œ callback æ–¹æ³•")]),t._v("\n")])])]),n("ol",[n("li",[t._v("æå‰å®šä¹‰å¥½è·¨åŸŸè¯·æ±‚çš„æ¥å£è¦è¿”å›çš„å‡½æ•°")]),t._v(" "),n("li",[t._v("é€šè¿‡ script è·¨åŸŸåŠ è½½ js æ–‡ä»¶ï¼Œç»•è¿‡æµè§ˆå™¨çš„åŒæºç­–ç•¥")]),t._v(" "),n("li",[t._v("åŠ è½½è¯·æ±‚çš„ js æ–‡ä»¶ï¼ŒåŒæ—¶æ‰§è¡Œ callback å‡½æ•° å¾—åˆ°è¯·æ±‚çš„æ•°æ®")])]),t._v(" "),n("p",[t._v("JSONP ä½¿ç”¨ç®€å•ä¸”å…¼å®¹æ€§ä¸é”™ï¼Œä½†æ˜¯å®ƒåªé™äº "),n("code",[t._v("get")]),t._v(" è¯·æ±‚ã€‚")]),t._v(" "),n("p",[t._v("åœ¨å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°å¤šä¸ª JSONP è¯·æ±‚çš„å›è°ƒå‡½æ•°åæ˜¯ç›¸åŒçš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦è‡ªå·±å°è£…ä¸€ä¸ª JSONPï¼Œä»¥ä¸‹æ˜¯ç®€å•å®ç°")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jsonpCallback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" success")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" script "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("async "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/javascript'")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jsonpCallback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    success "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://xxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'callback'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("2. CORS")])]),t._v(" "),n("p",[t._v("CORS æ˜¯ç›®å‰ä¸»æµçš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œè·¨åŸŸèµ„æºå…±äº« (CORS) æ˜¯ä¸€ç§æœºåˆ¶ï¼Œå®ƒä½¿ç”¨é¢å¤–çš„ HTTP å¤´æ¥å‘Šè¯‰æµè§ˆå™¨ è®©è¿è¡Œåœ¨ä¸€ä¸ª origin (domain) ä¸Šçš„ Web åº”ç”¨è¢«å‡†è®¸è®¿é—®æ¥è‡ªä¸åŒæºæœåŠ¡å™¨ä¸Šçš„æŒ‡å®šçš„èµ„æºã€‚å½“ä¸€ä¸ªèµ„æºä»ä¸è¯¥èµ„æºæœ¬èº«æ‰€åœ¨çš„æœåŠ¡å™¨ä¸åŒçš„åŸŸã€åè®®æˆ–ç«¯å£è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œèµ„æºä¼šå‘èµ·ä¸€ä¸ªè·¨åŸŸ HTTP è¯·æ±‚ã€‚")]),t._v(" "),n("p",[t._v("CORS éœ€è¦æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒã€‚æµè§ˆå™¨ä¼šè‡ªåŠ¨è¿›è¡Œ CORS é€šä¿¡ï¼Œå®ç° CORS é€šä¿¡çš„å…³é”®æ˜¯åç«¯ã€‚åªè¦åç«¯å®ç°äº† CORSï¼Œå°±å®ç°äº†è·¨åŸŸã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("IE 8 å’Œ 9 éœ€è¦é€šè¿‡ "),n("code",[t._v("XDomainRequest")]),t._v(" æ¥å®ç°ã€‚")])]),t._v(" "),n("p",[t._v("æœåŠ¡ç«¯é€šè¿‡è®¾ç½® http header çš„ "),n("code",[t._v("Access-Control-Allow-Origin")]),t._v(" å±æ€§å°±å¯ä»¥å¼€å¯ CORSã€‚")]),t._v(" "),n("p",[t._v("è¯¥å±æ€§è¡¨ç¤ºå“ªäº›åŸŸåå¯ä»¥è®¿é—®èµ„æºï¼Œå¦‚æœè®¾ç½®é€šé…ç¬¦åˆ™è¡¨ç¤ºæ‰€æœ‰ç½‘ç«™éƒ½å¯ä»¥è®¿é—®èµ„æºã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸åŒçš„åç«¯è¯­è¨€ä¼šæœ‰ä¸åŒ")]),t._v("\nresponse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Allow-Origin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://test.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å»ºè®®ç›´æ¥å†™ '*'")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®ç”¨æˆç†Ÿçš„å¼€æºä¸­é—´ä»¶è§£å†³é—®é¢˜ã€‚")])]),t._v(" "),n("p",[n("strong",[t._v("å…¶å®ƒè·¨åŸŸæ–¹æ¡ˆ")])]),t._v(" "),n("ol",[n("li",[n("p",[t._v("HTML5 XMLHttpRequest æœ‰ä¸€ä¸ª APIï¼Œ"),n("code",[t._v("postMessage()")]),t._v("æ–¹æ³•å…è®¸æ¥è‡ªä¸åŒæºçš„è„šæœ¬é‡‡ç”¨å¼‚æ­¥æ–¹å¼è¿›è¡Œæœ‰é™çš„é€šä¿¡ï¼Œå¯ä»¥å®ç°è·¨æ–‡æœ¬æ¡£ã€å¤šçª—å£ã€è·¨åŸŸæ¶ˆæ¯ä¼ é€’ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ç§æ–¹å¼é€šå¸¸ç”¨äºè·å–åµŒå…¥é¡µé¢ä¸­çš„ç¬¬ä¸‰æ–¹é¡µé¢æ•°æ®ã€‚")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€ä¸ªé¡µé¢å‘é€æ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªé¡µé¢åˆ¤æ–­æ¥æºå¹¶æ¥æ”¶æ¶ˆæ¯ã€‚")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘é€æ¶ˆæ¯ç«¯")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://test.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¥æ”¶æ¶ˆæ¯ç«¯")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" origin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://test.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'éªŒè¯é€šè¿‡'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("WebSocket æ˜¯ä¸€ç§åŒå‘é€šä¿¡åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥ä¹‹åï¼ŒWebSocket çš„ server ä¸ client éƒ½èƒ½ä¸»åŠ¨å‘å¯¹æ–¹å‘é€æˆ–æ¥æ”¶æ•°æ®ï¼Œè¿æ¥å»ºç«‹å¥½äº†ä¹‹å client ä¸ server ä¹‹é—´çš„åŒå‘é€šä¿¡å°±ä¸ HTTP æ— å…³äº†ï¼Œå› æ­¤å¯ä»¥è·¨åŸŸã€‚")])]),t._v(" "),n("li",[n("p",[t._v("window.name + iframeï¼šwindow.name å±æ€§å€¼åœ¨ä¸åŒçš„é¡µé¢ï¼ˆç”šè‡³ä¸åŒåŸŸåï¼‰åŠ è½½åä¾æ—§å­˜åœ¨ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒéå¸¸é•¿çš„ name å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹è¿›è¡Œè·¨åŸŸã€‚")])]),t._v(" "),n("li",[n("p",[t._v("location.hash + iframeï¼ša.html æ¬²ä¸ c.html è·¨åŸŸç›¸äº’é€šä¿¡ï¼Œé€šè¿‡ä¸­é—´é¡µ b.html æ¥å®ç°ã€‚ ä¸‰ä¸ªé¡µé¢ï¼Œä¸åŒåŸŸä¹‹é—´åˆ©ç”¨ iframe çš„ location.hash ä¼ å€¼ï¼Œç›¸åŒåŸŸä¹‹é—´ç›´æ¥ js è®¿é—®æ¥é€šä¿¡ã€‚")])]),t._v(" "),n("li",[n("p",[t._v("document.domain + iframeï¼š è¯¥æ–¹å¼åªèƒ½ç”¨äºäºŒçº§åŸŸåç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ "),n("code",[t._v("a.test.com")]),t._v(" å’Œ "),n("code",[t._v("b.test.com")]),t._v(" é€‚ç”¨äºè¯¥æ–¹å¼ã€‚æˆ‘ä»¬åªéœ€è¦ç»™é¡µé¢æ·»åŠ  "),n("code",[t._v("document.domain = 'test.com'")]),t._v(" è¡¨ç¤ºäºŒçº§åŸŸåéƒ½ç›¸åŒå°±å¯ä»¥å®ç°è·¨åŸŸï¼Œä¸¤ä¸ªé¡µé¢éƒ½é€šè¿‡ js å¼ºåˆ¶è®¾ç½®"),n("code",[t._v("document.domain")]),t._v("ä¸ºåŸºç¡€ä¸»åŸŸï¼Œå°±å®ç°äº†åŒåŸŸã€‚")])])]),t._v(" "),n("blockquote",[n("p",[t._v("æ¨èé˜…è¯»ï¼š"),n("a",{attrs:{href:"https://juejin.im/post/5c23993de51d457b8c1f4ee1#heading-19",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¹ç§è·¨åŸŸæ–¹å¼"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"å­˜å‚¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨"}},[t._v("#")]),t._v(" å­˜å‚¨")]),t._v(" "),n("h3",{attrs:{id:"å‰ç«¯å­˜å‚¨æœ‰å‡ ç§æ–¹å¼ï¼ŸåŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯å­˜å‚¨æœ‰å‡ ç§æ–¹å¼ï¼ŸåŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ"}},[t._v("#")]),t._v(" å‰ç«¯å­˜å‚¨æœ‰å‡ ç§æ–¹å¼ï¼ŸåŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸğŸŒŸ")]),t._v(" "),n("p",[n("strong",[t._v("ä¸€å…± 5 ç§æ–¹å¼ï¼š")]),t._v(" cookiesã€localstorageã€sessionstorageã€Web SQLï¼ˆå·²åºŸå¼ƒï¼‰ã€IndexedDB")]),t._v(" "),n("ol",[n("li",[n("p",[n("strong",[t._v("Cookiesï¼š")])]),t._v(" "),n("p",[t._v("æœ¬èº«æ˜¯ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡çš„ï¼Œä½†æ˜¯å®ƒæœ‰æœ¬åœ°å­˜å‚¨çš„åŠŸèƒ½ï¼Œäºæ˜¯å°±è¢« â€å€Ÿç”¨â€œã€‚æ˜¯åœ¨ HTML5 æ ‡å‡†å‰æœ¬åœ°å‚¨å­˜çš„ä¸»è¦æ–¹å¼ã€‚")]),t._v(" "),n("p",[t._v("ä¼˜ç‚¹æ˜¯æ˜¯å…¼å®¹æ€§å¥½ï¼Œä½†ç¼ºç‚¹å¾ˆå¤šï¼šæ•°æ®å­˜å‚¨é‡å¤ªå°ï¼Œåªæœ‰ 4kbã€‚æ‰€æœ‰ http è¯·æ±‚å¤´è‡ªåŠ¨æºå¸¦ cookie ï¼Œæµªè´¹æµé‡ï¼Œå½±å“è·å–èµ„æºçš„æ•ˆç‡ã€‚ æ¯ä¸ª domain é™åˆ¶ 20 ä¸ª cookieï¼ŒAPI ä½¿ç”¨èµ·æ¥éº»çƒ¦éœ€è¦è‡ªè¡Œå°è£…ã€‚")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("localStorageï¼š")])]),t._v(" "),n("p",[t._v("HTML5 åŠ å…¥çš„ä»¥é”®å€¼å¯¹ (Key-Value) ä¸ºæ ‡å‡†çš„æ–¹å¼ï¼Œä¸“é—¨ä¸ºå­˜å‚¨è€Œè®¾è®¡ã€‚ä¼˜ç‚¹æ˜¯æ“ä½œæ–¹ä¾¿ã€‚æ°¸ä¹…æ€§å‚¨å­˜ï¼ˆé™¤éæ‰‹åŠ¨åˆ é™¤ï¼‰ï¼Œå¹¶å¯ç”¨äºæ‰€æœ‰åŒæºï¼ˆç›¸åŒçš„åŸŸåã€åè®®å’Œç«¯å£ï¼‰çª—å£ï¼ˆæˆ–æ ‡ç­¾é¡µï¼‰ï¼Œå¤§å°ä¸º 5Mï¼Œå…¼å®¹ IE8+")]),t._v(" "),n("blockquote",[n("p",[t._v("IOS safari éšèº«æ¨¡å¼ä¸‹ï¼ŒlocalStorage.getItem ä¼šæŠ¥é”™ï¼Œå»ºè®®ç»Ÿä¸€ä½¿ç”¨ try-catch å°è£…ã€‚")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("sessionStorageï¼š")])]),t._v(" "),n("p",[t._v("ä¸ localStorage åŸºæœ¬ç±»ä¼¼ï¼ŒAPI ç®€å•æ˜“ç”¨ã€‚åŒºåˆ«æ˜¯ sessionStorage åœ¨å½“é¡µé¢å…³é—­åä¼šè¢«æ¸…ç†ï¼Œè€Œä¸”ä¸ cookieã€localStorage ä¸åŒï¼Œä»–ä¸èƒ½åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­å…±äº«ï¼Œæ˜¯ä¼šè¯çº§åˆ«çš„å‚¨å­˜æ–¹å¼")]),t._v(" "),n("blockquote",[n("p",[t._v("è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¡µé¢åŠæ ‡ç­¾é¡µä»…æŒ‡é¡¶çº§çª—å£ï¼Œå¦‚æœä¸€ä¸ªæ ‡ç­¾é¡µåŒ…å«å¤šä¸ª iframe æ ‡ç­¾ä¸”ä»–ä»¬å±äºåŒæºé¡µé¢ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´æ˜¯å¯ä»¥å…±äº« sessionStorage çš„ã€‚")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("Web SQLï¼š")])]),t._v(" "),n("p",[t._v("2010 å¹´è¢« W3C åºŸå¼ƒçš„æœ¬åœ°æ•°æ®åº“æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸»æµæµè§ˆå™¨ï¼ˆç«ç‹é™¤å¤–ï¼‰éƒ½å·²ç»æœ‰äº†ç›¸å…³çš„å®ç°ï¼Œweb sql ç±»ä¼¼äº SQLiteï¼Œæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„å…³ç³»å‹æ•°æ®åº“ï¼Œç”¨ sql è¿›è¡Œæ“ä½œï¼Œå½“æˆ‘ä»¬ç”¨ JavaScript æ—¶è¦è¿›è¡Œè½¬æ¢ï¼Œè¾ƒä¸ºç¹çã€‚")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("IndexedDBï¼š")])]),t._v(" "),n("p",[t._v("æ˜¯è¢«æ­£å¼çº³å…¥ HTML5 æ ‡å‡†çš„æ•°æ®åº“å‚¨å­˜æ–¹æ¡ˆï¼Œå®ƒæ˜¯ NoSQL æ•°æ®åº“ï¼Œç”¨é”®å€¼å¯¹è¿›è¡Œå‚¨å­˜ï¼Œå¯ä»¥è¿›è¡Œå¿«é€Ÿè¯»å–æ“ä½œï¼Œéå¸¸é€‚åˆ web åœºæ™¯ï¼ŒåŒæ—¶ç”¨ JavaScript è¿›è¡Œæ“ä½œä¼šéå¸¸æ–¹ä¾¿ã€‚")])])]),t._v(" "),n("p",[t._v("é€Ÿè§ˆè¡¨ï¼š")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("ç‰¹æ€§")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("cookie")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("localStorage")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("sessionStorage")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("indexDB")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("æ•°æ®ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸€èˆ¬ç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("é™¤éè¢«æ¸…ç†ï¼Œå¦åˆ™ä¸€ç›´å­˜åœ¨")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("é¡µé¢å…³é—­å°±æ¸…ç†")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("é™¤éè¢«æ¸…ç†ï¼Œå¦åˆ™ä¸€ç›´å­˜åœ¨")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("æ•°æ®å­˜å‚¨å¤§å°")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("4K")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("5M")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("5M")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("æ— é™")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸æœåŠ¡ç«¯é€šä¿¡")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨ header ä¸­ï¼Œå¯¹äºè¯·æ±‚æ€§èƒ½å½±å“")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸å‚ä¸")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸å‚ä¸")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸å‚ä¸")])])])]),t._v(" "),n("p",[n("strong",[t._v("å»ºè®®ï¼š")]),t._v(" ä»ä¸Šè¡¨å¯ä»¥çœ‹å‡ºï¼Œ"),n("code",[t._v("cookie")]),t._v(" å·²ç»ä¸å»ºè®®ç”¨äºå­˜å‚¨ã€‚å¦‚æœæ²¡æœ‰å¤§é‡æ•°æ®å­˜å‚¨éœ€æ±‚çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ "),n("code",[t._v("localStorage")]),t._v(" å’Œ "),n("code",[t._v("sessionStorage")]),t._v(" ã€‚å¯¹äºä¸æ€ä¹ˆæ”¹å˜çš„æ•°æ®å°½é‡ä½¿ç”¨ "),n("code",[t._v("localStorage")]),t._v(" å­˜å‚¨ï¼Œå¦åˆ™å¯ä»¥ç”¨ "),n("code",[t._v("sessionStorage")]),t._v(" å­˜å‚¨ã€‚")]),t._v(" "),n("p",[t._v("å¯¹äº "),n("code",[t._v("cookie")]),t._v("ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„å®‰å…¨æ€§ã€‚")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("ä½œç”¨")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("å¦‚æœç”¨äºä¿å­˜ç”¨æˆ·ç™»å½•æ€ï¼Œåº”è¯¥å°†è¯¥å€¼åŠ å¯†ï¼Œä¸èƒ½ä½¿ç”¨æ˜æ–‡çš„ç”¨æˆ·æ ‡è¯†")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("http-only")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("ä¸èƒ½é€šè¿‡ JS è®¿é—® Cookieï¼Œå‡å°‘ XSS æ”»å‡»")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("secure")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("åªèƒ½åœ¨åè®®ä¸º HTTPS çš„è¯·æ±‚ä¸­æºå¸¦")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("same-site")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("è§„å®šæµè§ˆå™¨ä¸èƒ½åœ¨è·¨åŸŸè¯·æ±‚ä¸­æºå¸¦ Cookieï¼Œå‡å°‘ CSRF æ”»å‡»")])])])]),t._v(" "),n("blockquote",[n("p",[t._v("æ¨èé˜…è¯»ï¼š"),n("a",{attrs:{href:"https://segmentfault.com/a/1190000005927232",target:"_blank",rel:"noopener noreferrer"}},[t._v("èŠä¸€èŠå‰ç«¯å­˜å‚¨é‚£äº›äº‹"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);