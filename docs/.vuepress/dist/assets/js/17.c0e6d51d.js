(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{252:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"å‰ç«¯å®‰å…¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯å®‰å…¨"}},[t._v("#")]),t._v(" å‰ç«¯å®‰å…¨")]),t._v(" "),s("h2",{attrs:{id:"å¯èƒ½å¼•èµ·å‰ç«¯å®‰å…¨çš„çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯èƒ½å¼•èµ·å‰ç«¯å®‰å…¨çš„çš„é—®é¢˜"}},[t._v("#")]),t._v(" å¯èƒ½å¼•èµ·å‰ç«¯å®‰å…¨çš„çš„é—®é¢˜?")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("è·¨ç«™è„šæœ¬æ”»å‡»(Cross-Site Scripting, XSS)")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸€ç§"),s("a",{attrs:{href:"%5Bhttps://www.wikiwand.com/zh-hans/%E4%BB%A3%E7%A2%BC%E6%B3%A8%E5%85%A5%5D(https://www.wikiwand.com/zh-hans/%E4%BB%A3%E7%A2%BC%E6%B3%A8%E5%85%A5)"}},[t._v("ä»£ç æ³¨å…¥")]),t._v("æ–¹å¼, ä¸ºäº†ä¸ CSS åŒºåˆ†æ‰€ä»¥è¢«ç§°ä½œ XSSã€‚")]),t._v(" "),s("p",[t._v("æ—©æœŸå¸¸è§äºç½‘ç»œè®ºå›, èµ·å› æ˜¯ç½‘ç«™æ²¡æœ‰å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„é™åˆ¶, ä½¿å¾—æ”»å‡»è€…å¯ä»¥å°†è„šæœ¬ä¸Šä¼ åˆ°å¸–å­è®©å…¶ä»–äººæµè§ˆåˆ°æœ‰æ¶æ„è„šæœ¬çš„é¡µé¢ï¼Œå…¶æ³¨å…¥æ–¹å¼å¾ˆç®€å•åŒ…æ‹¬ä½†ä¸é™äº JavaScript / VBScript / CSS / Flash ç­‰ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ (Cross-Site Request Forgery, CSRF/XSRF)")])]),t._v(" "),s("blockquote",[s("p",[t._v("æ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„ Web åº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚æŒ‡æ”»å‡»è€…é€šè¿‡è®¾ç½®å¥½çš„é™·é˜±ï¼Œå¼ºåˆ¶å¯¹å·²å®Œæˆè®¤è¯çš„ç”¨æˆ·è¿›è¡Œéé¢„æœŸçš„ä¸ªäººä¿¡æ¯æˆ–è®¾å®šä¿¡æ¯ç­‰æŸäº›çŠ¶æ€æ›´æ–°ï¼Œå±äºè¢«åŠ¨æ”»å‡»ã€‚ç®€å•ç‚¹è¯´ï¼ŒCSRF å°±æ˜¯åˆ©ç”¨ç”¨æˆ·çš„ç™»å½•æ€å‘èµ·æ¶æ„è¯·æ±‚ã€‚è·Ÿ XSS ç›¸æ¯”ï¼ŒXSS åˆ©ç”¨çš„æ˜¯ç”¨æˆ·å¯¹æŒ‡å®šç½‘ç«™çš„ä¿¡ä»»ï¼ŒCSRF åˆ©ç”¨çš„æ˜¯ç½‘ç«™å¯¹ç”¨æˆ·ç½‘é¡µæµè§ˆå™¨çš„ä¿¡ä»»ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("iframeçš„æ»¥ç”¨")])]),t._v(" "),s("blockquote",[s("p",[t._v("iframe ä¸­çš„å†…å®¹æ˜¯ç”±ç¬¬ä¸‰æ–¹æ¥æä¾›çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä»–ä»¬ä¸å—æˆ‘ä»¬çš„æ§åˆ¶ï¼Œä»–ä»¬å¯ä»¥åœ¨iframeä¸­è¿è¡ŒJavaScirptè„šæœ¬ã€Flashæ’ä»¶ã€å¼¹å‡ºå¯¹è¯æ¡†ç­‰ç­‰ï¼Œè¿™å¯èƒ½ä¼šç ´åå‰ç«¯ç”¨æˆ·ä½“éªŒ")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ¶æ„ç¬¬ä¸‰æ–¹åº“")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸€æ—¦ç¬¬ä¸‰æ–¹åº“è¢«æ¤å…¥æ¶æ„ä»£ç å¾ˆå®¹æ˜“å¼•èµ·å®‰å…¨é—®é¢˜,æ¯”å¦‚event-streamçš„æ¶æ„ä»£ç äº‹ä»¶,2018å¹´11æœˆ21æ—¥ï¼Œåä¸º FallingSnowçš„ç”¨æˆ·åœ¨çŸ¥åJavaScriptåº”ç”¨åº“event-streamåœ¨github Issuseä¸­å‘å¸ƒäº†é’ˆå¯¹æ¤å…¥çš„æ¶æ„ä»£ç çš„ç–‘é—®ï¼Œè¡¨ç¤ºevent-streamä¸­å­˜åœ¨ç”¨äºçªƒå–ç”¨æˆ·æ•°å­—é’±åŒ…çš„æ¶æ„ä»£ç ")])])])]),t._v(" "),s("h2",{attrs:{id:"xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xss"}},[t._v("#")]),t._v(" XSS")]),t._v(" "),s("p",[t._v("æ ¹æ®æ”»å‡»çš„å­˜å‚¨åŒºï¼ˆæ¶æ„ä»£ç å­˜æ”¾çš„ä½ç½®ï¼‰ä¸æ’å…¥ç‚¹ï¼ˆç”±è°å–å¾—æ¶æ„ä»£ç ï¼Œå¹¶æ’å…¥åˆ°ç½‘é¡µä¸Šï¼‰ä¸åŒï¼ŒXSS æ”»å‡»å¯åˆ†ä¸º"),s("strong",[t._v("å­˜å‚¨å‹ã€åå°„å‹")]),t._v("å’Œ "),s("strong",[t._v("DOM å‹")]),t._v("ä¸‰ç§ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å­˜å‚¨å‹-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å‹-xss"}},[t._v("#")]),t._v(" å­˜å‚¨å‹ XSS")]),t._v(" "),s("p",[t._v("é¡¾åæ€ä¹‰ï¼Œæ”»å‡»è€…å°†æ¶æ„è„šæœ¬ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­å­˜å‚¨èµ·æ¥äº†ï¼Œç„¶åç”¨æˆ·åœ¨å®¢æˆ·ç«¯æ‰“å¼€ç½‘ç«™æ—¶ï¼Œ"),s("strong",[t._v("ç½‘ç«™æœåŠ¡ç«¯")]),t._v("å°†æ¶æ„ä»£ç "),s("strong",[t._v("ä»æ•°æ®åº“å–å‡º")]),t._v("å¹¶æ‰§è¡Œäº†è¿™äº›è„šæœ¬ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»çš„æ•ˆæœã€‚")]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…å°†æ¶æ„ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­ã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€ç›®æ ‡ç½‘ç«™æ—¶ï¼Œ"),s("strong",[t._v("ç½‘ç«™æœåŠ¡ç«¯")]),t._v("å°†æ¶æ„ä»£ç "),s("strong",[t._v("ä»æ•°æ®åº“å–å‡º")]),t._v("ï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚")])]),t._v(" "),s("p",[t._v("è¿™ç§æ”»å‡»å¸¸è§äºå¸¦æœ‰ç”¨æˆ·ä¿å­˜æ•°æ®çš„ç½‘ç«™åŠŸèƒ½ï¼Œå¦‚è®ºå›å‘å¸–ã€å•†å“è¯„è®ºã€ç”¨æˆ·ç§ä¿¡ç­‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"åå°„å‹-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå°„å‹-xss"}},[t._v("#")]),t._v(" åå°„å‹ XSS")]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URL æ—¶ï¼Œ"),s("strong",[t._v("ç½‘ç«™æœåŠ¡ç«¯")]),t._v("å°†æ¶æ„ä»£ç "),s("strong",[t._v("ä» URL ä¸­å–å‡º")]),t._v("ï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚")])]),t._v(" "),s("p",[t._v("åå°„å‹ XSS æ¼æ´å¸¸è§äºé€šè¿‡ URL ä¼ é€’å‚æ•°çš„åŠŸèƒ½ï¼Œå¦‚ç½‘ç«™æœç´¢ã€è·³è½¬ç­‰ã€‚")]),t._v(" "),s("p",[t._v("ç”±äºéœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ¶æ„çš„ URL æ‰èƒ½ç”Ÿæ•ˆï¼Œæ”»å‡»è€…å¾€å¾€ä¼šç»“åˆå¤šç§æ‰‹æ®µè¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚")]),t._v(" "),s("p",[t._v("POST çš„å†…å®¹ä¹Ÿå¯ä»¥è§¦å‘åå°„å‹ XSSï¼Œåªä¸è¿‡å…¶è§¦å‘æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼ˆéœ€è¦æ„é€ è¡¨å•æäº¤é¡µé¢ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·ç‚¹å‡»ï¼‰ï¼Œæ‰€ä»¥éå¸¸å°‘è§ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("åå°„å‹ XSS è·Ÿå­˜å‚¨å‹ XSS çš„åŒºåˆ«æ˜¯ï¼š")])]),t._v(" "),s("p",[s("strong",[t._v("å­˜å‚¨å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨æ•°æ®åº“é‡Œï¼Œåå°„å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨ URL é‡Œã€‚")])]),t._v(" "),s("h3",{attrs:{id:"dom-å‹-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-å‹-xss"}},[t._v("#")]),t._v(" DOM å‹ XSS")]),t._v(" "),s("ol",[s("li",[t._v("æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URLã€‚")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œ"),s("strong",[t._v("å‰ç«¯ JavaScript ä» URL ä¸­å–å‡º")]),t._v("æ¶æ„ä»£ç å¹¶æ‰§è¡Œã€‚")]),t._v(" "),s("li",[t._v("æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("DOM å‹ XSS è·Ÿå‰ä¸¤ç§ XSS çš„åŒºåˆ«ï¼š")])]),t._v(" "),s("p",[s("strong",[t._v("DOM å‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±äºå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´ï¼Œè€Œå…¶ä»–ä¸¤ç§ XSS éƒ½å±äºæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"å¦‚ä½•é˜²èŒƒ-xssï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•é˜²èŒƒ-xssï¼Ÿ"}},[t._v("#")]),t._v(" å¦‚ä½•é˜²èŒƒ XSSï¼Ÿ")]),t._v(" "),s("p",[t._v("XSS æ”»å‡»æœ‰ä¸¤å¤§è¦ç´ ï¼š1. æ”»å‡»è€…æäº¤æ¶æ„ä»£ç ï¼Œ2. æµè§ˆå™¨æ‰§è¡Œæ¶æ„ä»£ç ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è¾“å…¥è¿‡æ»¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å…¥è¿‡æ»¤"}},[t._v("#")]),t._v(" è¾“å…¥è¿‡æ»¤")]),t._v(" "),s("p",[t._v("é’ˆå¯¹ç¬¬ä¸€ä¸ªè¦ç´ ï¼šæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°æ˜¯å¦èƒ½å¤Ÿåœ¨å°†ç”¨æˆ·çš„è¾“å…¥æäº¤åˆ°åç«¯æ—¶ï¼Œè¿‡æ»¤æ‰ç”¨æˆ·è¾“å…¥çš„æ¶æ„ä»£ç å‘¢ï¼ŸğŸ¤”")]),t._v(" "),s("p",[t._v("ç­”æ¡ˆæ˜¯ä¸å¯è¡Œã€‚ä¸€æ—¦æ”»å‡»è€…ç»•è¿‡å‰ç«¯è¿‡æ»¤ï¼Œç›´æ¥æ„é€ è¯·æ±‚ï¼Œä»ç„¶è¿˜æ˜¯å¯ä»¥æäº¤æ¶æ„ä»£ç ã€‚ğŸŒš")]),t._v(" "),s("p",[t._v("é‚£ä¹ˆï¼Œæ¢ä¸€ä¸ªè¿‡æ»¤æ—¶æœºï¼šåç«¯åœ¨å†™å…¥æ•°æ®åº“å‰ï¼Œå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œç„¶åæŠŠâ€œå®‰å…¨çš„â€å†…å®¹ï¼Œè¿”å›ç»™å‰ç«¯ã€‚è¿™æ ·æ˜¯å¦å¯è¡Œå‘¢ï¼ŸğŸ¤”")]),t._v(" "),s("p",[t._v("ä¹Ÿè¿˜æ˜¯ä¸è¡Œï¼Œå› ä¸ºï¼šåœ¨æäº¤é˜¶æ®µï¼Œæˆ‘ä»¬å¹¶ä¸ç¡®å®šå†…å®¹è¦è¾“å‡ºåˆ°å“ªé‡Œã€‚ğŸŒš")]),t._v(" "),s("p",[t._v("è¿™é‡Œçš„â€œå¹¶ä¸ç¡®å®šå†…å®¹è¦è¾“å‡ºåˆ°å“ªé‡Œâ€æœ‰ä¸¤å±‚å«ä¹‰ï¼Œæ¯”å¦‚æˆ‘ä»¬å°†ä¸€ä¸ªæ­£å¸¸ç”¨æˆ·è¾“å…¥çš„ "),s("code",[t._v("5 < 7")]),t._v("ï¼Œåœ¨å†™å…¥æ•°æ®åº“å‰ç»™è½¬ä¹‰å˜æˆäº†"),s("code",[t._v("5 &lt; 7")]),t._v("ã€‚")]),t._v(" "),s("ol",[s("li",[t._v("ç”¨æˆ·çš„è¾“å…¥å†…å®¹å¯èƒ½åŒæ—¶æä¾›ç»™å‰ç«¯å’Œå®¢æˆ·ç«¯ï¼Œè€Œä¸€æ—¦ç»è¿‡äº† "),s("code",[t._v("escapeHTML()")]),t._v("ï¼Œå®¢æˆ·ç«¯æ˜¾ç¤ºçš„å†…å®¹å°±å˜æˆäº†ä¹±ç ( "),s("code",[t._v("5 &lt; 7")]),t._v(" )ã€‚")]),t._v(" "),s("li",[t._v("åœ¨å‰ç«¯ä¸­ï¼Œä¸åŒçš„ä½ç½®æ‰€éœ€çš„ç¼–ç ä¹Ÿä¸åŒã€‚")])]),t._v(" "),s("ul",[s("li",[t._v("å½“ "),s("code",[t._v("5 &lt; 7")]),t._v("ä½œä¸º HTML æ‹¼æ¥é¡µé¢æ—¶ï¼Œå¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼š")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("comment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("5 "),s("span",{pre:!0,attrs:{class:"token entity named-entity",title:"<"}},[t._v("&lt;")]),t._v(" 7"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("å½“"),s("code",[t._v("5 &lt; 7")]),t._v(" é€šè¿‡ Ajax è¿”å›ï¼Œç„¶åèµ‹å€¼ç»™ JavaScript çš„å˜é‡æ—¶ï¼Œå‰ç«¯å¾—åˆ°çš„å­—ç¬¦ä¸²å°±æ˜¯è½¬ä¹‰åçš„å­—ç¬¦ã€‚è¿™ä¸ªå†…å®¹ä¸èƒ½ç›´æ¥ç”¨äº Vue ç­‰æ¨¡æ¿çš„å±•ç¤ºï¼Œä¹Ÿä¸èƒ½ç›´æ¥ç”¨äºå†…å®¹é•¿åº¦è®¡ç®—ã€‚ä¸èƒ½ç”¨äºæ ‡é¢˜ã€alert ç­‰ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("æ‰€ä»¥ï¼Œè¾“å…¥ä¾§è¿‡æ»¤èƒ½å¤Ÿåœ¨æŸäº›æƒ…å†µä¸‹è§£å†³ç‰¹å®šçš„ XSS é—®é¢˜ï¼Œä½†ä¼šå¼•å…¥å¾ˆå¤§çš„ä¸ç¡®å®šæ€§å’Œä¹±ç é—®é¢˜ã€‚åœ¨é˜²èŒƒ XSS æ”»å‡»æ—¶åº”é¿å…æ­¤ç±»æ–¹æ³•ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("å½“ç„¶ï¼Œå¯¹äºæ˜ç¡®çš„è¾“å…¥ç±»å‹ï¼Œä¾‹å¦‚æ•°å­—ã€URLã€ç”µè¯å·ç ã€é‚®ä»¶åœ°å€ç­‰ç­‰å†…å®¹ï¼Œè¿›è¡Œè¾“å…¥è¿‡æ»¤è¿˜æ˜¯å¿…è¦çš„ã€‚")])]),t._v(" "),s("p",[t._v("æ—¢ç„¶è¾“å…¥è¿‡æ»¤å¹¶éå®Œå…¨å¯é ï¼Œæˆ‘ä»¬å°±è¦"),s("strong",[t._v("é€šè¿‡â€œé˜²æ­¢æµè§ˆå™¨æ‰§è¡Œæ¶æ„ä»£ç â€æ¥é˜²èŒƒ XSS")]),t._v("ã€‚è¿™éƒ¨åˆ†åˆ†ä¸ºä¸¤ç±»ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("é˜²æ­¢ HTML ä¸­å‡ºç°æ³¨å…¥")]),t._v(" "),s("li",[t._v("é˜²æ­¢ JavaScript æ‰§è¡Œæ—¶ï¼Œæ‰§è¡Œæ¶æ„ä»£ç ")])]),t._v(" "),s("h3",{attrs:{id:"é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹-xss-æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹-xss-æ”»å‡»"}},[t._v("#")]),t._v(" é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹ XSS æ”»å‡»")]),t._v(" "),s("p",[t._v("å­˜å‚¨å‹å’Œåå°„å‹ XSS éƒ½æ˜¯åœ¨æœåŠ¡ç«¯å–å‡ºæ¶æ„ä»£ç åï¼Œæ’å…¥åˆ°å“åº” HTML é‡Œçš„ï¼Œæ”»å‡»è€…åˆ»æ„ç¼–å†™çš„â€œæ•°æ®â€è¢«å†…åµŒåˆ°â€œä»£ç â€ä¸­ï¼Œè¢«æµè§ˆå™¨æ‰€æ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("é¢„é˜²è¿™ä¸¤ç§æ¼æ´ï¼Œæœ‰ä¸¤ç§å¸¸è§åšæ³•ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ”¹æˆçº¯å‰ç«¯æ¸²æŸ“ï¼ŒæŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€ã€‚")]),t._v(" "),s("li",[t._v("å¯¹ HTML åšå……åˆ†è½¬ä¹‰ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"çº¯å‰ç«¯æ¸²æŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çº¯å‰ç«¯æ¸²æŸ“"}},[t._v("#")]),t._v(" çº¯å‰ç«¯æ¸²æŸ“")]),t._v(" "),s("ol",[s("li",[t._v("æµè§ˆå™¨å…ˆåŠ è½½ä¸€ä¸ªé™æ€ HTMLï¼Œæ­¤ HTML ä¸­ä¸åŒ…å«ä»»ä½•è·Ÿä¸šåŠ¡ç›¸å…³çš„æ•°æ®ã€‚")]),t._v(" "),s("li",[t._v("ç„¶åæµè§ˆå™¨æ‰§è¡Œ HTML ä¸­çš„ JavaScriptã€‚")]),t._v(" "),s("li",[t._v("JavaScript é€šè¿‡ Ajax åŠ è½½ä¸šåŠ¡æ•°æ®ï¼Œè°ƒç”¨ DOM API æ›´æ–°åˆ°é¡µé¢ä¸Šã€‚")])]),t._v(" "),s("p",[t._v("åœ¨çº¯å‰ç«¯æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬ä¼šæ˜ç¡®çš„å‘Šè¯‰æµè§ˆå™¨ï¼š")]),t._v(" "),s("p",[t._v("ä¸‹é¢è¦è®¾ç½®çš„å†…å®¹æ˜¯æ–‡æœ¬ï¼ˆ"),s("code",[t._v(".innerText")]),t._v("ï¼‰ï¼Œè¿˜æ˜¯å±æ€§ï¼ˆ"),s("code",[t._v(".setAttribute")]),t._v("ï¼‰ï¼Œè¿˜æ˜¯æ ·å¼ï¼ˆ"),s("code",[t._v(".style")]),t._v("ï¼‰ç­‰ç­‰ã€‚è¿™æ ·æµè§ˆå™¨å°±ä¸ä¼šè¢«è½»æ˜“çš„è¢«æ¬ºéª—ï¼Œæ‰§è¡Œé¢„æœŸå¤–çš„ä»£ç äº†ã€‚")]),t._v(" "),s("p",[t._v("ä½†çº¯å‰ç«¯æ¸²æŸ“è¿˜éœ€æ³¨æ„é¿å… DOM å‹ XSS æ¼æ´ï¼ˆä¾‹å¦‚ "),s("code",[t._v("onload")]),t._v(" äº‹ä»¶å’Œ "),s("code",[t._v("href")]),t._v(" ä¸­çš„ "),s("code",[t._v("javascript:xxx")]),t._v(" ç­‰ï¼Œè¯·å‚è€ƒä¸‹æ–‡â€é¢„é˜² DOM å‹ XSS æ”»å‡»â€œéƒ¨åˆ†ï¼‰ã€‚\nåœ¨å¾ˆå¤šå†…éƒ¨ã€ç®¡ç†ç³»ç»Ÿä¸­ï¼Œé‡‡ç”¨çº¯å‰ç«¯æ¸²æŸ“æ˜¯éå¸¸åˆé€‚çš„ã€‚ä½†å¯¹äºæ€§èƒ½è¦æ±‚é«˜ï¼Œæˆ–æœ‰ SEO éœ€æ±‚çš„é¡µé¢ï¼Œæˆ‘ä»¬ä»ç„¶è¦é¢å¯¹æ‹¼æ¥ HTML çš„é—®é¢˜ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è½¬ä¹‰-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è½¬ä¹‰-html"}},[t._v("#")]),t._v(" è½¬ä¹‰ HTML")]),t._v(" "),s("p",[t._v("å¦‚æœæ‹¼æ¥ HTML æ˜¯å¿…è¦çš„ï¼Œå°±éœ€è¦é‡‡ç”¨åˆé€‚çš„è½¬ä¹‰åº“ï¼Œå¯¹ HTML æ¨¡æ¿å„å¤„æ’å…¥ç‚¹è¿›è¡Œå……åˆ†çš„è½¬ä¹‰ã€‚")]),t._v(" "),s("p",[t._v("å¸¸ç”¨çš„æ¨¡æ¿å¼•æ“ï¼Œå¦‚ doT.jsã€ejsã€FreeMarker ç­‰ï¼Œå¯¹äº HTML è½¬ä¹‰é€šå¸¸åªæœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå°±æ˜¯æŠŠ "),s("code",[t._v("& < > \" ' /")]),t._v(" è¿™å‡ ä¸ªå­—ç¬¦è½¬ä¹‰æ‰ï¼Œç¡®å®èƒ½èµ·åˆ°ä¸€å®šçš„ XSS é˜²æŠ¤ä½œç”¨ï¼Œä½†å¹¶ä¸å®Œå–„ï¼Œåªèƒ½å¯¹ HTML æ ‡ç­¾æ–‡å­—å†…å®¹ä»¥åŠ HTML å±æ€§å€¼æœ‰æ•ˆï¼Œè€Œå¯¹ CSS å†…è”æ ·å¼ã€å†…è” JavaScriptã€å†…è” JSONã€è·³è½¬é“¾æ¥ç­‰éƒ½æ²¡æœ‰æ•ˆæœã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿‡æ»¤ Html æ ‡ç­¾èƒ½å¦é˜²æ­¢ XSS? è¯·åˆ—ä¸¾ä¸èƒ½çš„æƒ…å†µ?")])]),t._v(" "),s("p",[t._v("ç”¨æˆ·é™¤äº†ä¸Šä¼ ")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xss'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨å›¾ç‰‡ url ç­‰æ–¹å¼æ¥ä¸Šä¼ è„šæœ¬è¿›è¡Œæ”»å‡»")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:alert(/xss/)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:alert("),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("xss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨å„ç§æ–¹å¼æ¥å›é¿æ£€æŸ¥, ä¾‹å¦‚ç©ºæ ¼, å›è½¦, Tab")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javas cript:\nalert("),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("xss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥é€šè¿‡å„ç§ç¼–ç è½¬æ¢ (URL ç¼–ç , Unicode ç¼–ç , HTML ç¼–ç , ESCAPE ç­‰) æ¥ç»•è¿‡æ£€æŸ¥")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("<img%20src=%22javascript:alert('xss');%22>\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascrip&#116&#58alert(/xss/)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("å¦å¤–ï¼Œå¯¹äºæ˜¾ç¤ºå¯Œæ–‡æœ¬æ¥è¯´ï¼Œä¹Ÿä¸èƒ½é€šè¿‡ä¸Šé¢çš„åŠæ³•æ¥è½¬ä¹‰æ‰€æœ‰å­—ç¬¦ï¼Œå› ä¸ºè¿™æ ·ä¼šæŠŠéœ€è¦çš„æ ¼å¼ä¹Ÿè¿‡æ»¤æ‰ã€‚è¿™ç§æƒ…å†µé€šå¸¸é‡‡ç”¨ç™½åå•è¿‡æ»¤çš„åŠæ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡é»‘åå•è¿‡æ»¤ï¼Œä½†æ˜¯è€ƒè™‘åˆ°éœ€è¦è¿‡æ»¤çš„æ ‡ç­¾å’Œæ ‡ç­¾å±æ€§å®åœ¨å¤ªå¤šï¼Œæ›´åŠ æ¨èä½¿ç”¨ç™½åå•çš„æ–¹å¼ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xss'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("xss")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'<h1 id="title">XSS Demo</h1><script>alert("xss");<\/script>\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// -> <h1>XSS Demo</h1>&lt;script&gt;alert("xss");&lt;/script&gt;')]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("ä»¥ä¸Šç¤ºä¾‹ä½¿ç”¨äº† "),s("code",[t._v("js-xss")]),t._v(" æ¥å®ç°ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è¾“å‡ºä¸­ä¿ç•™äº† "),s("code",[t._v("h1")]),t._v(" æ ‡ç­¾ä¸”è¿‡æ»¤äº† "),s("code",[t._v("script")]),t._v(" æ ‡ç­¾ã€‚")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼Œè¦å®Œå–„ XSS é˜²æŠ¤æªæ–½ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨æ›´å®Œå–„æ›´ç»†è‡´çš„è½¬ä¹‰ç­–ç•¥ã€‚\nä¾‹å¦‚ Java å·¥ç¨‹é‡Œï¼Œå¸¸ç”¨çš„è½¬ä¹‰åº“ä¸º "),s("code",[t._v("org.owasp.encoder")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"é¢„é˜²-dom-å‹-xss-æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢„é˜²-dom-å‹-xss-æ”»å‡»"}},[t._v("#")]),t._v(" é¢„é˜² DOM å‹ XSS æ”»å‡»")]),t._v(" "),s("p",[t._v("DOM å‹ XSS æ”»å‡»ï¼Œå®é™…ä¸Šå°±æ˜¯ç½‘ç«™å‰ç«¯ JavaScript ä»£ç æœ¬èº«ä¸å¤Ÿä¸¥è°¨ï¼ŒæŠŠä¸å¯ä¿¡çš„æ•°æ®å½“ä½œä»£ç æ‰§è¡Œäº†ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨ä½¿ç”¨ "),s("code",[t._v(".innerHTML")]),t._v("ã€"),s("code",[t._v(".outerHTML")]),t._v("ã€"),s("code",[t._v("document.write()")]),t._v(" æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œä¸è¦æŠŠä¸å¯ä¿¡çš„æ•°æ®ä½œä¸º HTML æ’åˆ°é¡µé¢ä¸Šï¼Œè€Œåº”å°½é‡ä½¿ç”¨ "),s("code",[t._v(".textContent")]),t._v("ã€"),s("code",[t._v(".setAttribute()")]),t._v(" ç­‰ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœç”¨ Vue/React æŠ€æœ¯æ ˆï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ "),s("code",[t._v("v-html")]),t._v("/"),s("code",[t._v("dangerouslySetInnerHTML")]),t._v(" åŠŸèƒ½ï¼Œå°±åœ¨å‰ç«¯ render é˜¶æ®µé¿å… "),s("code",[t._v("innerHTML")]),t._v("ã€"),s("code",[t._v("outerHTML")]),t._v(" çš„ XSS éšæ‚£ã€‚")]),t._v(" "),s("li",[t._v("DOM ä¸­çš„å†…è”äº‹ä»¶ç›‘å¬å™¨ï¼Œå¦‚ "),s("code",[t._v("location")]),t._v("ã€"),s("code",[t._v("onclick")]),t._v("ã€"),s("code",[t._v("onerror")]),t._v("ã€"),s("code",[t._v("onload")]),t._v("ã€"),s("code",[t._v("onmouseover")]),t._v(" ç­‰ï¼Œ`` æ ‡ç­¾çš„ "),s("code",[t._v("href")]),t._v(" å±æ€§ï¼ŒJavaScript çš„ "),s("code",[t._v("eval()")]),t._v("ã€"),s("code",[t._v("setTimeout()")]),t._v("ã€"),s("code",[t._v("setInterval()")]),t._v(" ç­‰ï¼Œéƒ½èƒ½æŠŠå­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œã€‚å¦‚æœä¸å¯ä¿¡çš„æ•°æ®æ‹¼æ¥åˆ°å­—ç¬¦ä¸²ä¸­ä¼ é€’ç»™è¿™äº› APIï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿå®‰å…¨éšæ‚£ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰ç”¨åˆ°è¿™äº›çš„è¯ï¼Œä¸€å®šè¦é¿å…åœ¨å­—ç¬¦ä¸²ä¸­æ‹¼æ¥ä¸å¯ä¿¡æ•°æ®ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"å…¶ä»–-xss-é˜²èŒƒæªæ–½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–-xss-é˜²èŒƒæªæ–½"}},[t._v("#")]),t._v(" å…¶ä»– XSS é˜²èŒƒæªæ–½")]),t._v(" "),s("p",[t._v("è™½ç„¶åœ¨æ¸²æŸ“é¡µé¢å’Œæ‰§è¡Œ JavaScript æ—¶ï¼Œé€šè¿‡è°¨æ…çš„è½¬ä¹‰å¯ä»¥é˜²æ­¢ XSS çš„å‘ç”Ÿï¼Œä½†å®Œå…¨ä¾é å¼€å‘çš„è°¨æ…ä»ç„¶æ˜¯ä¸å¤Ÿçš„ã€‚ä»¥ä¸‹ä»‹ç»ä¸€äº›é€šç”¨çš„æ–¹æ¡ˆï¼Œå¯ä»¥é™ä½ XSS å¸¦æ¥çš„é£é™©å’Œåæœã€‚")]),t._v(" "),s("h4",{attrs:{id:"å†…å®¹å®‰å…¨ç­–ç•¥-content-security-policy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†…å®¹å®‰å…¨ç­–ç•¥-content-security-policy"}},[t._v("#")]),t._v(" å†…å®¹å®‰å…¨ç­–ç•¥ Content Security Policy")]),t._v(" "),s("blockquote",[s("p",[t._v("å†…å®¹å®‰å…¨ç­–ç•¥ ("),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSP"),s("OutboundLink")],1),t._v(") æ˜¯ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ï¼Œç”¨äºæ£€æµ‹å¹¶å‰Šå¼±æŸäº›ç‰¹å®šç±»å‹çš„æ”»å‡»ï¼ŒåŒ…æ‹¬è·¨ç«™è„šæœ¬ ("),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/XSS",target:"_blank",rel:"noopener noreferrer"}},[t._v("XSS"),s("OutboundLink")],1),t._v(") å’Œæ•°æ®æ³¨å…¥æ”»å‡»ç­‰ã€‚æ— è®ºæ˜¯æ•°æ®ç›—å–ã€ç½‘ç«™å†…å®¹æ±¡æŸ“è¿˜æ˜¯æ•£å‘æ¶æ„è½¯ä»¶ï¼Œè¿™äº›æ”»å‡»éƒ½æ˜¯ä¸»è¦çš„æ‰‹æ®µã€‚")])]),t._v(" "),s("p",[t._v("ä¸¥æ ¼çš„ CSP åœ¨ XSS çš„é˜²èŒƒä¸­å¯ä»¥èµ·åˆ°ä»¥ä¸‹çš„ä½œç”¨ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¦æ­¢åŠ è½½å¤–åŸŸä»£ç ï¼Œé˜²æ­¢å¤æ‚çš„æ”»å‡»é€»è¾‘")]),t._v(" "),s("li",[t._v("ç¦æ­¢å¤–åŸŸæäº¤ï¼Œç½‘ç«™è¢«æ”»å‡»åï¼Œç”¨æˆ·çš„æ•°æ®ä¸ä¼šæ³„éœ²åˆ°å¤–åŸŸ")]),t._v(" "),s("li",[t._v("ç¦æ­¢å†…è”è„šæœ¬æ‰§è¡Œï¼ˆè§„åˆ™è¾ƒä¸¥æ ¼ï¼Œç›®å‰å‘ç° GitHub ä½¿ç”¨ï¼‰")]),t._v(" "),s("li",[t._v("ç¦æ­¢æœªæˆæƒçš„è„šæœ¬æ‰§è¡Œï¼ˆæ–°ç‰¹æ€§ï¼ŒGoogle Map ç§»åŠ¨ç‰ˆåœ¨ä½¿ç”¨ï¼‰")]),t._v(" "),s("li",[t._v("åˆç†ä½¿ç”¨ä¸ŠæŠ¥å¯ä»¥åŠæ—¶å‘ç° XSSï¼Œåˆ©äºå°½å¿«ä¿®å¤é—®é¢˜")])]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ CSP æ¥å°½é‡å‡å°‘ XSS æ”»å‡»ã€‚CSP æœ¬è´¨ä¸Šä¹Ÿæ˜¯å»ºç«‹ç™½åå•ï¼Œè§„å®šäº†æµè§ˆå™¨åªèƒ½å¤Ÿæ‰§è¡Œç‰¹å®šæ¥æºçš„ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("é€šå¸¸å¯ä»¥é€šè¿‡ HTTP Header ä¸­çš„ "),s("code",[t._v("Content-Security-Policy")]),t._v(" æ¥å¼€å¯ CSP")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("åªå…è®¸åŠ è½½æœ¬ç«™èµ„æº")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Security-Policy:")]),t._v(" default-src â€˜selfâ€™\n")])])])]),t._v(" "),s("li",[s("p",[t._v("åªå…è®¸åŠ è½½ HTTPS åè®®å›¾ç‰‡")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Security-Policy:")]),t._v(" img-src https://*\n")])])])]),t._v(" "),s("li",[s("p",[t._v("å…è®¸åŠ è½½ä»»ä½•æ¥æºæ¡†æ¶")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Security-Policy:")]),t._v(" child-src 'none'\n")])])])])]),t._v(" "),s("p",[t._v("æ›´å¤šå±æ€§å¯ä»¥æŸ¥çœ‹ "),s("a",{attrs:{href:"https://content-security-policy.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"è¾“å…¥å†…å®¹é•¿åº¦æ§åˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å…¥å†…å®¹é•¿åº¦æ§åˆ¶"}},[t._v("#")]),t._v(" è¾“å…¥å†…å®¹é•¿åº¦æ§åˆ¶")]),t._v(" "),s("p",[t._v("å¯¹äºä¸å—ä¿¡ä»»çš„è¾“å…¥ï¼Œéƒ½åº”è¯¥é™å®šä¸€ä¸ªåˆç†çš„é•¿åº¦ã€‚è™½ç„¶æ— æ³•å®Œå…¨é˜²æ­¢ XSS å‘ç”Ÿï¼Œä½†å¯ä»¥å¢åŠ  XSS æ”»å‡»çš„éš¾åº¦ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å…¶ä»–å®‰å…¨æªæ–½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–å®‰å…¨æªæ–½"}},[t._v("#")]),t._v(" å…¶ä»–å®‰å…¨æªæ–½")]),t._v(" "),s("ul",[s("li",[t._v("HTTP-only Cookie: ç¦æ­¢ JavaScript è¯»å–æŸäº›æ•æ„Ÿ Cookieï¼Œæ”»å‡»è€…å®Œæˆ XSS æ³¨å…¥åä¹Ÿæ— æ³•çªƒå–æ­¤ Cookieã€‚")]),t._v(" "),s("li",[t._v("éªŒè¯ç ï¼šé˜²æ­¢è„šæœ¬å†’å……ç”¨æˆ·æäº¤å±é™©æ“ä½œã€‚")])]),t._v(" "),s("p",[t._v("å¼ºçƒˆå»ºè®®é˜…è¯»ä¸‹é¢ä¸¤ç¯‡å‰ç«¯å®‰å…¨æ–‡ç« :")]),t._v(" "),s("p",[t._v("ç”¨æˆ·é™¤äº†ä¸Šä¼ ")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xss'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨å›¾ç‰‡ url ç­‰æ–¹å¼æ¥ä¸Šä¼ è„šæœ¬è¿›è¡Œæ”»å‡»")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:alert(/xss/)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascript:alert("),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("xss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥ä½¿ç”¨å„ç§æ–¹å¼æ¥å›é¿æ£€æŸ¥, ä¾‹å¦‚ç©ºæ ¼, å›è½¦, Tab")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javas cript:\nalert("),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("xss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("è¿˜å¯ä»¥é€šè¿‡å„ç§ç¼–ç è½¬æ¢ (URL ç¼–ç , Unicode ç¼–ç , HTML ç¼–ç , ESCAPE ç­‰) æ¥ç»•è¿‡æ£€æŸ¥")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("<img%20src=%22javascript:alert('xss');%22>\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("javascrip&#116&#58alert(/xss/)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("å¼ºçƒˆå»ºè®®é˜…è¯»ä¸‹é¢ä¸¤ç¯‡å‰ç«¯å®‰å…¨æ–‡ç« :")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://tech.meituan.com/2018/09/27/fe-security.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šå¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿ "),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://tech.meituan.com/2018/10/11/fe-security-csrf.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå¦‚ä½•é˜²æ­¢CSRFæ”»å‡»ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"csrf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csrf"}},[t._v("#")]),t._v(" CSRF")]),t._v(" "),s("h4",{attrs:{id:"xsrf-ï¼ˆcross-site-request-forgeryï¼‰-è·¨ç«™è¯·æ±‚ä¼ªé€ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xsrf-ï¼ˆcross-site-request-forgeryï¼‰-è·¨ç«™è¯·æ±‚ä¼ªé€ "}},[t._v("#")]),t._v(" XSRF ï¼ˆCross-site request forgeryï¼‰ è·¨ç«™è¯·æ±‚ä¼ªé€ ")]),t._v(" "),s("ul",[s("li",[t._v("ç™»å½•ä¸€ä¸ªè´­ç‰©ç½‘ç«™æµè§ˆå•†å“ï¼Œè€Œè¯¥ç½‘ç«™çš„ä»˜è´¹è´­ä¹°æ¥å£æ˜¯xxx.com/pay?id=10")]),t._v(" "),s("li",[t._v("ç„¶åå¯èƒ½ä¼šæ”¶åˆ°é‚®ä»¶ï¼Œå…¶ä¸­éšè—ç€å¯¹è´­ç‰©ç½‘ç«™ï¼ˆå·²ç™»å½•ï¼‰æ²¡æœ‰ä»»ä½•éªŒè¯çš„è´­ä¹°è¯·æ±‚"),s("code",[t._v('<img src = "xxx.com/pay?id=10">')])])]),t._v(" "),s("p",[s("strong",[t._v("é˜²èŒƒï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("å¢åŠ éªŒè¯æµç¨‹ï¼Œå¦‚æŒ‡çº¹ã€å¯†ç ã€çŸ­ä¿¡éªŒè¯ç ")])])])}),[],!1,null,null,null);a.default=r.exports}}]);