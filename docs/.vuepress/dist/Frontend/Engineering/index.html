<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>相关概念 | Mintnoii&#39;s Notes</title>
    <meta name="description" content=" 📖 🤔 👨🏻‍💻 ">
    <link rel="icon" href="/img/favorite.ico">
    
    <link rel="preload" href="/assets/css/0.styles.1b99550c.css" as="style"><link rel="preload" href="/assets/js/app.9984aab2.js" as="script"><link rel="preload" href="/assets/js/2.0fac7938.js" as="script"><link rel="preload" href="/assets/js/12.773fd6fe.js" as="script"><link rel="prefetch" href="/assets/js/10.fbe814e3.js"><link rel="prefetch" href="/assets/js/11.8419d808.js"><link rel="prefetch" href="/assets/js/13.5975e56b.js"><link rel="prefetch" href="/assets/js/14.bc62301c.js"><link rel="prefetch" href="/assets/js/15.8d3ada72.js"><link rel="prefetch" href="/assets/js/16.198ad83f.js"><link rel="prefetch" href="/assets/js/17.2b813073.js"><link rel="prefetch" href="/assets/js/18.fe6d7f4d.js"><link rel="prefetch" href="/assets/js/19.10eed8e9.js"><link rel="prefetch" href="/assets/js/20.69ca5c1f.js"><link rel="prefetch" href="/assets/js/21.14fc5229.js"><link rel="prefetch" href="/assets/js/3.17b694f5.js"><link rel="prefetch" href="/assets/js/4.ef290b6b.js"><link rel="prefetch" href="/assets/js/5.96e50475.js"><link rel="prefetch" href="/assets/js/6.af14ba40.js"><link rel="prefetch" href="/assets/js/7.1146c45d.js"><link rel="prefetch" href="/assets/js/8.0dabff96.js"><link rel="prefetch" href="/assets/js/9.1104e6ba.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b99550c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mintnoii's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basic</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/Frontend/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/Frontend/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/Frontend/Browser/" class="nav-link">Browser</a></li></ul></li><li class="dropdown-item"><h4>Engineering</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/Frontend/Git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/Frontend/React/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/Frontend/ReactFiber/" class="nav-link">React Fiber</a></li></ul></li><li class="dropdown-item"><h4>Security</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Security/" class="nav-link">Security</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Net protocol</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CS/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/CS/TCP/" class="nav-link">TCP</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.notion.so/Hi-here-0a4a01ce46dc475a9318075eda4ad3b0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/W-Qing/Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basic</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/Frontend/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/Frontend/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/Frontend/Browser/" class="nav-link">Browser</a></li></ul></li><li class="dropdown-item"><h4>Engineering</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/Frontend/Git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/Frontend/React/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/Frontend/ReactFiber/" class="nav-link">React Fiber</a></li></ul></li><li class="dropdown-item"><h4>Security</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Security/" class="nav-link">Security</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Net protocol</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CS/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/CS/TCP/" class="nav-link">TCP</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.notion.so/Hi-here-0a4a01ce46dc475a9318075eda4ad3b0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/W-Qing/Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Frontend/Engineering/" class="active sidebar-link">相关概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/Engineering/#什么是工程化" class="sidebar-link">什么是工程化</a></li><li class="sidebar-sub-header"><a href="/Frontend/Engineering/#工程化要解决什么" class="sidebar-link">工程化要解决什么</a></li><li class="sidebar-sub-header"><a href="/Frontend/Engineering/#模块化" class="sidebar-link">模块化</a></li><li class="sidebar-sub-header"><a href="/Frontend/Engineering/#babel-🌟" class="sidebar-link">Babel 🌟</a></li></ul></li><li><a href="/Frontend/Webpack/" class="sidebar-link">Webpack</a></li><li><a href="/Frontend/Git/" class="sidebar-link">Git</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="相关概念"><a href="#相关概念" class="header-anchor">#</a> 相关概念</h1> <p>https://juejin.cn/post/6844903588553048077#heading-33</p> <h2 id="什么是工程化"><a href="#什么是工程化" class="header-anchor">#</a> 什么是工程化</h2> <h4 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h4> <ul><li>工程化即系统化、模块化、规范化的一个过程。</li> <li>如果说计算机科学要解决的是系统的某个具体问题，或者更通俗点说是面向编码的，那么工程化要解决的是如何提高整个系统生产效率。</li> <li>与其说软件工程是一门科学，不如说它更偏向于管理学和方法论。</li></ul> <h4 id="解决什么问题"><a href="#解决什么问题" class="header-anchor">#</a> 解决什么问题</h4> <ul><li>工程化解决的问题是，如何提高编码、测试、维护阶段的生产效率。</li></ul> <h2 id="工程化要解决什么"><a href="#工程化要解决什么" class="header-anchor">#</a> 工程化要解决什么</h2> <p><strong>1 制定各项规范，让工作有章可循</strong></p> <ul><li>目录结构、文件命名规范、编码规范、开发流程规范、接口规范等</li></ul> <p><strong>2 使用版本控制工具，高效安全的管理源代码</strong></p> <ul><li>Git 分支管理、commit 描述规范、merge request、code review</li></ul> <p><strong>3 使用合适的前端技术和框架，提高生产效率，降低维护难度</strong></p> <ul><li>模块化的代码组织方式(JS模块化、CSS模块化)</li> <li>组件化的编程思想，处理UI层(React、Vue)</li> <li>数据层分离(reudx、mbox)</li></ul> <p><strong>4 提高代码的可测试性，引入单元测试，提高代码质量</strong></p> <p><strong>5 通过使用各种自动化的工程工具，提升整个开发、部署效率</strong></p> <h2 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h2> <p><strong>模块化主要解决的问题：</strong></p> <p>解决代码分割、增强维护性、提高代码重用、作用域隔离、模块之间的依赖管理、发布的自动化打包与处理等多个方面。</p> <h3 id="都有哪几种方式可以实现模块化，各有什么特点？"><a href="#都有哪几种方式可以实现模块化，各有什么特点？" class="header-anchor">#</a> 都有哪几种方式可以实现模块化，各有什么特点？</h3> <p><a href="https://juejin.cn/post/6844904056847073293#heading-0" target="_blank" rel="noopener noreferrer">你可能不知道的 JavaScript 模块化野史<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong>立即执行函数</strong></p> <blockquote><p>在早期，使用立即执行函数实现模块化是常见的手段，通过函数作用域解决了命名冲突、污染全局作用域的问题</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">globalVariable</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   globalVariable<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token comment">// ... 声明各种变量、函数都不会污染全局作用域</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>globalVariable<span class="token punctuation">)</span>
</code></pre></div><p><strong>AMD 和 CMD</strong></p> <blockquote><p>目前这两种实现方式已经过时，只需要了解这两者是如何使用的即可。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// AMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./a'</span><span class="token punctuation">,</span> <span class="token string">'./b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 加载模块完毕可以使用</span>
  a<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  b<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 加载模块</span>
  <span class="token comment">// 可以把 require 写在函数体的任意地方实现延迟加载</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span>
  a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>ES Module</strong></p> <blockquote><p>在有 Babel 的情况下，我们可以直接使用 ES6 的模块化 ES Module。这是原生实现的模块化方案。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 两种导出模块的 API</span>
<span class="token comment">// file a.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// file b.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 引入模块的 API</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span>
<span class="token keyword">import</span> <span class="token constant">XXX</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span>
</code></pre></div><p><strong>CommonJS</strong></p> <blockquote><p>CommonJS 最早是Node 独有的规范，目前也仍然广泛使用，比如在 <code>Webpack</code> 中就能见到它。当然，浏览器中使用就需要用到 <code>Browserify</code> 解析了。另外目前在 Node 中的模块管理也已经和CommonJS 有一些区别了。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// a.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// b.js</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a <span class="token comment">// -&gt; log 1</span>
</code></pre></div><p>在上述代码中，<code>module.exports</code> 和 <code>exports</code> 很容易混淆，让我们来看看大致内部实现</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a
<span class="token comment">// 这里其实就是包装了一层立即执行函数，这样就不会污染全局变量了，</span>
<span class="token comment">// 重要的是 module 这里，module 是 Node 独有的一个变量</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// module 基本实现</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'xxxx'</span><span class="token punctuation">,</span> <span class="token comment">// 我总得知道怎么去找到它吧</span>
  exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// exports 就是个空对象</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这个是为什么 exports 和 module.exports 用法相似的原因</span>
<span class="token keyword">var</span> exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports
<span class="token keyword">var</span> <span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 导出的东西</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 当我 require 的时候去找到独特的 id，然后将要使用的东西用立即执行函数包装下，over</span>
</code></pre></div><p>另外虽然 <code>exports</code> 和 <code>module.exports</code> 用法相似，但是不能对 <code>exports</code> 直接赋值，不会有任何效果。</p> <blockquote><p>因为 <code>var exports = module.exports</code> 这句代码表明了 <code>exports</code> 和 <code>module.exports</code>享有相同地址，通过改变对象的属性值会对两者都起效，但是如果直接对 <code>exports</code> 赋值就会导致两者不再指向同一个内存地址，修改并不会对 <code>module.exports</code> 起效。</p></blockquote> <p><strong>对于 CommonJS 和 ES6 中的模块化的两者区别是：</strong></p> <ul><li>前者支持动态导入，也就是 <code>require(${path}/xx.js)</code>，后者目前不支持，但是已有提案。（webpack 中可用）</li> <li>前者是同步导入，因为用于服务端，文件都在本地，同步导入即使卡住对主线程影响也不大。而后者是异步导入，因为用于浏览器，需要下载文件，如果也采用同步导入会对渲染有很大影响。</li> <li>前者在导出时都是值拷贝，就算导出的值变了，导入的值也不会改变，所以如果想更新值，必须重新导入一次。但是后者采用实时绑定的方式，导入导出的值都指向同一个内存地址，所以导入值会跟随导出值变化。</li> <li>后者会编译成 <code>require/exports</code> 执行。</li></ul> <h2 id="babel-🌟"><a href="#babel-🌟" class="header-anchor">#</a> Babel 🌟</h2> <div class="custom-block tip"><p><a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer">Babel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是一个工具链，主要用于（<strong>语法转换</strong>）将 ECMAScript 2015+ 版本的代码转换为向后兼容的 JavaScript 语法，以便能够运行在当前和旧版本的浏览器或其他环境中。另外还有通过 <strong>Polyfill</strong> 方式在目标环境中添加缺失的特性 (通过 <a href="https://www.babeljs.cn/docs/babel-polyfill" target="_blank" rel="noopener noreferrer">@babel/polyfill<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 模块)、以及<strong>源码转换</strong> (codemods)。</p></div> <p><strong>Babel 的本质就是一个 JavaScript 编译器</strong> 它的转译过程即工作原理分为三个阶段：</p> <p><img src="/assets/img/babel.566a1ac8.png" alt="babel原理"></p> <ol><li><p><strong>Parse 解析：将代码解析生成抽象语法树( 即AST )</strong></p> <p>过程包括词法分析与语法分析：</p> <ul><li>词法分析：将代码(字符串)分割为 token流，即语法单元成的数组</li> <li>语法分析：分析 token 流(上面生成的数组)并生成 AST</li></ul></li> <li><p><strong>Transform 转换：访问 AST 的节点进行变换操作生产新的 AST</strong></p> <ul><li>对于 AST 进行变换一系列的操作，babel 接受得到 AST 并通过 babel-traverse 对其进行遍历，在此过程中对相应节点进行添加、更新及移除等操作。</li> <li><a href="https://github.com/NervJS/taro/blob/master/packages/taro-transformer-wx/src/index.ts#L15" target="_blank" rel="noopener noreferrer">Taro<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>就是利用 babel 完成的小程序语法转换</li></ul></li> <li><p><strong>Generate 生成：以新的 AST 为基础生成代码</strong></p> <ul><li>将变换后的 AST 再转换为 JS 代码, 使用到的模块是 babel-generator。</li></ul></li></ol> <blockquote><p>如何写一个babel插件，参考<a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#builders" target="_blank" rel="noopener noreferrer">官方的插件教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>如何一步步实现一个编译器，参考官网推荐的开源项目 <a href="https://github.com/jamiebuilds/the-super-tiny-compiler" target="_blank" rel="noopener noreferrer">the-super-tiny-compiler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">last updated:</span> <span class="time">12/28/2020, 9:08:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Frontend/Browser/" class="prev">浏览器</a></span> <span class="next"><a href="/Frontend/Webpack/">Webpack</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9984aab2.js" defer></script><script src="/assets/js/2.0fac7938.js" defer></script><script src="/assets/js/12.773fd6fe.js" defer></script>
  </body>
</html>
