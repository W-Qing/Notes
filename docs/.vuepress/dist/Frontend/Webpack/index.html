<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack | Mintnoii&#39;s Notes</title>
    <meta name="description" content=" 📖 🤔 👨🏻‍💻 ">
    <link rel="icon" href="/img/favorite.ico">
    
    <link rel="preload" href="/assets/css/0.styles.ceb91a1a.css" as="style"><link rel="preload" href="/assets/js/app.5830fc30.js" as="script"><link rel="preload" href="/assets/js/2.0fac7938.js" as="script"><link rel="preload" href="/assets/js/19.652cddd2.js" as="script"><link rel="prefetch" href="/assets/js/10.aae4f516.js"><link rel="prefetch" href="/assets/js/11.8efb5367.js"><link rel="prefetch" href="/assets/js/12.c5d22a71.js"><link rel="prefetch" href="/assets/js/13.4ffef7d1.js"><link rel="prefetch" href="/assets/js/14.b57364e6.js"><link rel="prefetch" href="/assets/js/15.8d3ada72.js"><link rel="prefetch" href="/assets/js/16.b36df3ea.js"><link rel="prefetch" href="/assets/js/17.6ab35deb.js"><link rel="prefetch" href="/assets/js/18.bb253bec.js"><link rel="prefetch" href="/assets/js/20.70c20c38.js"><link rel="prefetch" href="/assets/js/21.14fc5229.js"><link rel="prefetch" href="/assets/js/3.17b694f5.js"><link rel="prefetch" href="/assets/js/4.c49a80e6.js"><link rel="prefetch" href="/assets/js/5.96e50475.js"><link rel="prefetch" href="/assets/js/6.961db1b9.js"><link rel="prefetch" href="/assets/js/7.1146c45d.js"><link rel="prefetch" href="/assets/js/8.c946f754.js"><link rel="prefetch" href="/assets/js/9.1d9dc004.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ceb91a1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mintnoii's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basic</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/Frontend/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/Frontend/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/Frontend/Browser/" class="nav-link">Browser</a></li></ul></li><li class="dropdown-item"><h4>Engineering</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Webpack/" class="nav-link router-link-exact-active router-link-active">Webpack</a></li><li class="dropdown-subitem"><a href="/Frontend/Git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/Frontend/React/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/Frontend/ReactFiber/" class="nav-link">React Fiber</a></li></ul></li><li class="dropdown-item"><h4>Security</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Security/" class="nav-link">Security</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Net protocol</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CS/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/CS/TCP/" class="nav-link">TCP</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.notion.so/Hi-here-0a4a01ce46dc475a9318075eda4ad3b0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/W-Qing/Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Basic</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/Frontend/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/Frontend/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/Frontend/Browser/" class="nav-link">Browser</a></li></ul></li><li class="dropdown-item"><h4>Engineering</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Webpack/" class="nav-link router-link-exact-active router-link-active">Webpack</a></li><li class="dropdown-subitem"><a href="/Frontend/Git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/Frontend/React/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/Frontend/ReactFiber/" class="nav-link">React Fiber</a></li></ul></li><li class="dropdown-item"><h4>Security</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/Security/" class="nav-link">Security</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Net protocol</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/CS/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/CS/TCP/" class="nav-link">TCP</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.notion.so/Hi-here-0a4a01ce46dc475a9318075eda4ad3b0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/W-Qing/Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Frontend/Engineering/" class="sidebar-link">概念</a></li><li><a href="/Frontend/Webpack/" class="active sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#实践学习" class="sidebar-link">实践学习</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#构建流程" class="sidebar-link">构建流程</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#loader-与-plugin" class="sidebar-link">Loader 与 Plugin</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#热更新原理" class="sidebar-link">热更新原理</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#优化前端性能" class="sidebar-link">优化前端性能</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#提高打包速度" class="sidebar-link">提高打包速度</a></li><li class="sidebar-sub-header"><a href="/Frontend/Webpack/#提高构建速度" class="sidebar-link">提高构建速度</a></li></ul></li><li><a href="/Frontend/Git/" class="sidebar-link">Git</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安全</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> Webpack</h1> <h2 id="实践学习"><a href="#实践学习" class="header-anchor">#</a> 实践学习</h2> <ul><li><a href="https://juejin.im/post/5e46e1206fb9a07cbe345dac" target="_blank" rel="noopener noreferrer">Webpack4 基础入门与实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5e5420e8e51d4526ea7ef35e" target="_blank" rel="noopener noreferrer">Webpack4 进阶与实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="构建流程"><a href="#构建流程" class="header-anchor">#</a> 构建流程</h2> <p>Webpack 的运行流程是一个串行的过程，从启动到结束会依次执行以下流程：</p> <ol><li><strong>初始化参数</strong>：从配置文件和 Shell 语句中读取与合并参数，得出最终的参数；</li> <li><strong>开始编译</strong>：用上一步得到的参数初始化 Compiler 对象，加载所有配置的插件，执行对象的 run 方法开始执行编译；</li> <li><strong>确定入口</strong>：根据配置中的 entry 找出所有的入口文件；</li> <li><strong>编译模块</strong>：从入口文件出发，调用所有配置的 Loader 对模块进行翻译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理；</li> <li><strong>完成模块编译</strong>：在经过第 4 步使用 Loader 翻译完所有模块后，得到了每个模块被翻译后的最终内容以及它们之间的依赖关系；</li> <li><strong>输出资源</strong>：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk，再把每个 Chunk 转换成一个单独的文件加入到输出列表，这步是可以修改输出内容的最后机会；</li> <li><strong>输出完成</strong>：在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统。</li></ol> <p>在以上过程中，Webpack 会在特定的时间点广播出特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用 Webpack 提供的 API 改变 Webpack 的运行结果。</p> <blockquote><p>拓展阅读 <a href="https://fed.taobao.org/blog/2016/09/10/webpack-flow/" target="_blank" rel="noopener noreferrer">细说 webpack 之流程篇<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="loader-与-plugin"><a href="#loader-与-plugin" class="header-anchor">#</a> Loader 与 Plugin</h2> <div class="custom-block tip"><p><strong>Loader</strong>直译为&quot;加载器&quot;。Webpack 将一切文件视为模块，但是 webpack 原生是只能解析 js 文件，如果想将其他文件也打包的话，就会用到<code>loader</code>。 所以 Loader 的作用是让 webpack 拥有了加载和解析_非 JavaScript 文件_的能力。</p></div> <p><strong>常用 Loader：</strong></p> <ul><li>file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件</li> <li>url-loader：和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去</li> <li>source-map-loader：加载额外的 Source Map 文件，以方便断点调试</li> <li>image-loader：加载并且压缩图片文件</li> <li>babel-loader：把 ES6 转换成 ES5</li> <li>css-loader：加载 CSS，支持模块化、压缩、文件导入等特性</li> <li>style-loader：把 CSS 代码注入到 JavaScript 中，通过 DOM 操作去加载 CSS。</li> <li>eslint-loader：通过 ESLint 检查 JavaScript 代码</li></ul> <div class="custom-block tip"><p><strong>Plugin</strong>直译为&quot;插件&quot;。Plugin 可以扩展 webpack 的功能，让 webpack 具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。</p></div> <p><strong>常用 Plugin：</strong></p> <ul><li>define-plugin：定义环境变量</li> <li>html-webpack-plugin：简化 html 文件创建</li> <li>uglifyjs-webpack-plugin：通过<code>UglifyES</code>压缩<code>ES6</code>代码</li> <li>webpack-parallel-uglify-plugin: 多核压缩，提高压缩速度</li> <li>webpack-bundle-analyzer: 可视化 webpack 输出文件的体积</li> <li>mini-css-extract-plugin: CSS 提取到单独的文件中，支持按需加载</li></ul> <p><strong>两者除了概念不同具体用法也不同：</strong></p> <ul><li><strong>Loader</strong>在<code>module.rules</code>中配置，也就是说他作为模块的解析规则而存在。 类型为数组，每一项都是一个<code>Object</code>，里面描述了对于什么类型的文件（<code>test</code>），使用什么加载 (<code>loader</code>) 和使用的参数（<code>options</code>）</li> <li><strong>Plugin</strong>在<code>plugins</code>中单独配置。 类型为数组，每一项是一个<code>plugin</code>的实例，参数都通过构造函数传入。</li></ul> <h2 id="热更新原理"><a href="#热更新原理" class="header-anchor">#</a> 热更新原理</h2> <h2 id="优化前端性能"><a href="#优化前端性能" class="header-anchor">#</a> 优化前端性能</h2> <h2 id="提高打包速度"><a href="#提高打包速度" class="header-anchor">#</a> 提高打包速度</h2> <h2 id="提高构建速度"><a href="#提高构建速度" class="header-anchor">#</a> 提高构建速度</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">last updated:</span> <span class="time">10/19/2019, 10:14:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Frontend/Engineering/" class="prev">概念</a></span> <span class="next"><a href="/Frontend/Git/">Git</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5830fc30.js" defer></script><script src="/assets/js/2.0fac7938.js" defer></script><script src="/assets/js/19.652cddd2.js" defer></script>
  </body>
</html>
